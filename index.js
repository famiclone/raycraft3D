(()=>{"use strict";const t=[{id:0,name:"First level",map:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,0,3,0,0,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,0,0,0,0,0,0,0,0,1],[1,0,0,3,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1,1,1,1],[1,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[1,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,3,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,2,0,2,2,2,2,2,2,2,2,0,2,4,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,3,3,4,2,2,2,2,2,2,2,2,2,2,2,2,2,4,3,3,4,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}];class e{constructor(t){this.id=t,this.pos={x:0,y:0},this.speed=0,this.moveSpeed=0,this.rotation=0,this.direction=0,this.rotationSpeed=0}}class i extends e{constructor(t){super(t),this.id=t,this.pos={x:16,y:10},this.speed=0,this.moveSpeed=.05,this.rotation=0,this.direction=0,this.rotationSpeed=6*Math.PI/1800}}class s{constructor(){this.stripWidth=2,this.screenStrips=[],this.screen=document.createElement("div"),this.width=window.innerWidth,this.height=window.innerHeight,this.screen.id="screen",document.body.prepend(this.screen),this.init()}init(){const t=document.createElement("div");t.id="floor";const e=document.createElement("div");e.id="ceiling";const i=document.createElement("div");i.id="level";const s=document.createElement("div");s.id="hand",this.screen.appendChild(t),this.screen.appendChild(e),this.screen.appendChild(i),this.screen.appendChild(s);for(let t=0;t<this.width;t+=this.stripWidth){const e=document.createElement("div");e.style.position="absolute",e.style.left=t+"px",e.style.width=this.stripWidth+"px",e.style.height="0px",e.style.overflow="hidden",e.style.backgroundColor="magenta";const s=new Image;s.src="public/walls.png",s.style.position="absolute",s.style.left="0px",e.appendChild(s),e.img=s,this.screenStrips.push(e),i.appendChild(e)}}drawRay(){}castSingleRay(){}drawMiniMap(){}updateMiniMap(){}}var a;!function(t){t[t.Playing=0]="Playing",t[t.GameOver=1]="GameOver",t[t.Paused=2]="Paused",t[t.Inventory=3]="Inventory",t[t.Trading=4]="Trading",t[t.MainMenu=5]="MainMenu"}(a||(a={}));const h=document.querySelector("#miniMap"),r=document.querySelector("#miniMapObjects");let n=0;const o=60*Math.PI/180/2,l=Math.ceil(160),p=160/Math.tan(o),d=2*Math.PI;let c=[],y=[],m=[],u=[];const v=document.querySelector("#debugScreen");const M=new class{constructor(){this.state="mainmenu",this.mapWidth=0,this.mapHeight=0,this.drawMiniMap=()=>{h.width=8*this.mapWidth,h.height=8*this.mapHeight,h.style.width=8*this.mapWidth+"px";const t=h.getContext("2d");for(let e=0;e<this.mapHeight;e++)for(let i=0;i<this.mapWidth;i++)this.level.map[e][i]>0&&(t.fillStyle="black",t.fillRect(8*i,8*e,8,8))},this.updateMiniMap=()=>{r.width=8*this.mapWidth,r.height=8*this.mapHeight;const t=r.getContext("2d");t.clearRect(0,0,h.width,h.height),t.fillStyle="yellowgreen",t.fillRect(8*this.player.pos.x-2,8*this.player.pos.y-2,4,4),t.beginPath(),t.moveTo(8*this.player.pos.x,8*this.player.pos.y),t.lineTo(8*(this.player.pos.x+4*Math.cos(this.player.rotation)),8*(this.player.pos.y+4*Math.sin(this.player.rotation))),t.closePath(),t.stroke()},this.player=new i("player"),this.renderer=new s,this.state="mainmenu",this.level=t[0],this.setup()}initSprites(){y=[];for(var t=0;t<this.level.map.length;t++)y[t]=[];for(var e=0;e<m.length;e++){var i=m[e],s=u[i.type],a=document.createElement("img");a.src=s.img,a.style.display="none",a.style.position="absolute",i.visible=!1,i.block=s.block,i.img=a,y[i.y][i.x]=i,this.renderer.screen.appendChild(a)}}castRays(){let t=0;for(let e=0;e<l;e++){const i=2*(-l/2+e),s=Math.sqrt(i*i+p*p),a=Math.asin(i/s);this.castSingleRay(this.player.rotation+a,t++)}}castSingleRay(t,e){(t%=d)<0&&(t+=d);var i=t>.75*d||t<.25*d,s=t<0||t>Math.PI,a=0,h=Math.sin(t),r=Math.cos(t),n=0;let o=0,l=0;var m=0;for(var u=i?1:-1,v=u*(x=h/r),M=i?Math.ceil(this.player.pos.x):Math.floor(this.player.pos.x),g=this.player.pos.y+(M-this.player.pos.x)*x;M>=0&&M<this.mapWidth&&g>=0&&g<this.mapHeight;){var f=M+(i?0:-1),w=g>>0;try{y[w][f]&&!y[w][f].visible&&(y[w][f].visible=!0,c.push(y[w][f]))}catch(t){}if(this.level.map[w][f]>0){let t=M-this.player.pos.x,e=g-this.player.pos.y;n=t*t+e*e,a=this.level.map[w][f],m=g%1,i||(m=1-m),M,g,o=f,l=w,!0;break}M+=u,g+=v}var x,b=s?-1:1,S=b*(x=r/h);for(g=s?Math.floor(this.player.pos.y):Math.ceil(this.player.pos.y),M=this.player.pos.x+(g-this.player.pos.y)*x;M>=0&&M<this.mapWidth&&g>=0&&g<this.mapHeight;){w=Math.floor(g+(s?-1:0)),f=M>>0;try{y[w][f]&&!y[w][f].visible&&(y[w][f].visible=!0,c.push(y[w][f]))}catch(t){}if(this.level.map[w][f]>0){var k=M-this.player.pos.x,P=g-this.player.pos.y,W=k*k+P*P;(!n||W<n)&&(n=W,M,g,l=w,o=f,a=this.level.map[w][f],m=M%1,s&&(m=1-m));break}M+=S,g+=b}if(n){var E=this.renderer.screenStrips[e];n=Math.sqrt(n),n*=Math.cos(this.player.rotation-t);var I=Math.round(p/n),R=2*I,C=Math.round((200-I)/2);let i=I;E.style.height=i+"px",E.style.top=C+"px",E.img.style.height=Math.floor(4*I)+"px",E.img.style.width=Math.floor(2*R)+"px",E.img.style.top=-Math.floor(I*(a-1))+"px";var K=Math.round(m*R);K>R-2&&(K=R-2),E.img.style.left=-K+"px"}}bindKeys(){const t=document.querySelector("#hand");document.addEventListener("mousemove",(t=>{const e=t.clientX-window.innerWidth/2;this.player.rotation=e/320*2*Math.PI})),document.addEventListener("keydown",(e=>{switch(e.code){case"KeyW":this.player.speed=1,t.style.animation="walk 1.5s infinite";break;case"KeyS":this.player.speed=-1,t.style.animation="walk 1.5s infinite";break;case"KeyA":case"KeyD":break;case"ShiftLeft":this.player.speed*=2}})),document.addEventListener("keyup",(e=>{switch(e.code){case"KeyW":case"KeyS":this.player.speed=0,t.style.animation="";break;case"KeyA":case"KeyD":this.player.direction=0,t.style.animation="";break;case"ShiftLeft":this.player.speed/=2}}))}setup(){const t=document.querySelector("canvas");t.width=160,t.height=120,this.mapWidth=this.level.map[0].length,this.mapHeight=this.level.map.length,this.initSprites(),this.bindKeys(),this.drawMiniMap(),this.loop(0)}isBlocking(t,e){if(e<0||e>=this.mapHeight||t<0||t>=this.mapWidth)return!0;var i=Math.floor(t),s=Math.floor(e);return 0!=this.level.map[s][i]||!(!y[s][i]||!y[s][i].block)}movePlayer(){const t=this.player.moveSpeed*this.player.speed;this.player.rotation+=this.player.direction*this.player.rotationSpeed;const e=this.player.pos.x+Math.cos(this.player.rotation)*t,i=this.player.pos.y+Math.sin(this.player.rotation)*t;this.isBlocking(e,i)||(this.player.pos.x=e,this.player.pos.y=i,this.player.rotation+=this.player.direction*this.player.rotationSpeed,this.player.rotation<0&&(this.player.rotation+=2*Math.PI),this.player.rotation>=2*Math.PI&&(this.player.rotation-=2*Math.PI))}update(t){this.movePlayer(),this.updateMiniMap(),this.castRays(),v.innerText=`\n      FPS: ${Math.round(1/t)}\n      PLAYER X: ${this.player.pos.x}\n      PLAYER Y: ${this.player.pos.y}\n      DT: ${t}\n    `}loop(t){const e=n-t;n=t,this.update(e),requestAnimationFrame(this.loop.bind(this))}};window.game=M,M.setup()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUFBLE1Ba0NBLEVBbENlLENBQ2IsQ0FDRSxHQUFNLEVBQ04sS0FBUSxjQUVSLElBQU8sQ0FDTCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFB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cmMvbGV2ZWxzLmpzIiwid2VicGFjazovL21pbmVjcmFmdDI1ZC8uL3NyYy9wZXJzb24udHMiLCJ3ZWJwYWNrOi8vbWluZWNyYWZ0MjVkLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly9taW5lY3JhZnQyNWQvLi9zcmMvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vbWluZWNyYWZ0MjVkLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vbWluZWNyYWZ0MjVkLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxldmVscyA9IFtcbiAge1xuICAgIFwiaWRcIjogMCxcbiAgICBcIm5hbWVcIjogXCJGaXJzdCBsZXZlbFwiLFxuICAgIC8vcHJldHRpZXItaWdub3JlXG4gICAgXCJtYXBcIjogW1xuICAgICAgWzEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwzLDMsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDMsMCwzLDAsMCwxLDEsMSwyLDEsMSwxLDEsMSwyLDEsMSwxLDIsMSwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsMywwLDQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwwLDAsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDAsMCwzLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwzLDEsMSwxLDEsMV0sXG4gICAgICBbMSwwLDAsMywwLDMsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwzLDAsNCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDJdLFxuICAgICAgWzEsMCwwLDMsMCwzLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsMywzLDMsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDMsMSwxLDEsMSwxXSxcbiAgICAgIFsxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDAsMCwwLDAsMCwwLDMsMywzLDAsMCwzLDMsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMl0sXG4gICAgICBbMSwwLDAsMCwwLDAsMCwwLDAsMywzLDMsMCwwLDMsMywzLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwwLDAsMCwwLDAsMCwzLDMsMywwLDAsMywzLDMsMCwwLDAsMCwwLDAsMCwwLDAsMywxLDEsMSwxLDFdLFxuICAgICAgWzEsMCwwLDAsMCwwLDAsMCwwLDMsMywzLDAsMCwzLDMsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsNCwwLDAsNCwyLDAsMiwyLDIsMiwyLDIsMiwyLDAsMiw0LDQsMCwwLDQsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCw0LDAsMCw0LDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNCwwLDAsNCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDQsMCwwLDQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw0LDAsMCw0LDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsNCwwLDAsNCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDQsMCwwLDQsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCw0LDMsMyw0LDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsNCwzLDMsNCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDFdXG4gICAgXVxuICB9XG5dXG5cbmV4cG9ydCBkZWZhdWx0IGxldmVscztcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcnNvbiB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uU3BlZWQgPSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCBQZXJzb24gZnJvbSBcIi4vcGVyc29uXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBQZXJzb24ge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHN1cGVyKGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnBvcyA9IHsgeDogMTYsIHk6IDEwIH07XG4gICAgICAgIHRoaXMuc3BlZWQgPSAwO1xuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IDAuMDUwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uU3BlZWQgPSAoNiAqIE1hdGguUEkpIC8gMTgwMDtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RyaXBXaWR0aCA9IDI7XG4gICAgICAgIHRoaXMuc2NyZWVuU3RyaXBzID0gW107XG4gICAgICAgIHRoaXMuc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaWQgPSBcInNjcmVlblwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQodGhpcy5zY3JlZW4pO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgZmxvb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBmbG9vci5pZCA9IFwiZmxvb3JcIjtcbiAgICAgICAgY29uc3QgY2VpbGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNlaWxpbmcuaWQgPSBcImNlaWxpbmdcIjtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsZXZlbC5pZCA9IFwibGV2ZWxcIjtcbiAgICAgICAgY29uc3QgaGFuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhhbmQuaWQgPSBcImhhbmRcIjtcbiAgICAgICAgdGhpcy5zY3JlZW4uYXBwZW5kQ2hpbGQoZmxvb3IpO1xuICAgICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChjZWlsaW5nKTtcbiAgICAgICAgdGhpcy5zY3JlZW4uYXBwZW5kQ2hpbGQobGV2ZWwpO1xuICAgICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChoYW5kKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndpZHRoOyBpICs9IHRoaXMuc3RyaXBXaWR0aCkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgc3RyaXAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBzdHJpcC5zdHlsZS5sZWZ0ID0gaSArIFwicHhcIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLndpZHRoID0gdGhpcy5zdHJpcFdpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgc3RyaXAuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibWFnZW50YVwiO1xuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcuc3JjID0gXCJwdWJsaWMvd2FsbHMucG5nXCI7XG4gICAgICAgICAgICBpbWcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBpbWcuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgICAgICBzdHJpcC5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBpbWFnZSB0byBhIHByb3BlcnR5IG9uIHRoZSBzdHJpcCBlbGVtZW50XG4gICAgICAgICAgICAvLyBzbyB3ZSBoYXZlIGVhc3kgYWNjZXNzIHRvIHRoZSBpbWFnZSBsYXRlclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc3RyaXAuaW1nID0gaW1nO1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5TdHJpcHMucHVzaChzdHJpcCk7XG4gICAgICAgICAgICBsZXZlbC5hcHBlbmRDaGlsZChzdHJpcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd1JheSgpIHsgfVxuICAgIGNhc3RTaW5nbGVSYXkoKSB7IH1cbiAgICBkcmF3TWluaU1hcCgpIHsgfVxuICAgIHVwZGF0ZU1pbmlNYXAoKSB7IH1cbn1cbiIsIi8vQHRzLWlnbm9yZVxuaW1wb3J0IGxldmVscyBmcm9tIFwiLi9sZXZlbHMuanNcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4vcmVuZGVyZXJcIjtcbnZhciBHYW1lU3RhdGU7XG4oZnVuY3Rpb24gKEdhbWVTdGF0ZSkge1xuICAgIEdhbWVTdGF0ZVtHYW1lU3RhdGVbXCJQbGF5aW5nXCJdID0gMF0gPSBcIlBsYXlpbmdcIjtcbiAgICBHYW1lU3RhdGVbR2FtZVN0YXRlW1wiR2FtZU92ZXJcIl0gPSAxXSA9IFwiR2FtZU92ZXJcIjtcbiAgICBHYW1lU3RhdGVbR2FtZVN0YXRlW1wiUGF1c2VkXCJdID0gMl0gPSBcIlBhdXNlZFwiO1xuICAgIEdhbWVTdGF0ZVtHYW1lU3RhdGVbXCJJbnZlbnRvcnlcIl0gPSAzXSA9IFwiSW52ZW50b3J5XCI7XG4gICAgR2FtZVN0YXRlW0dhbWVTdGF0ZVtcIlRyYWRpbmdcIl0gPSA0XSA9IFwiVHJhZGluZ1wiO1xuICAgIEdhbWVTdGF0ZVtHYW1lU3RhdGVbXCJNYWluTWVudVwiXSA9IDVdID0gXCJNYWluTWVudVwiO1xufSkoR2FtZVN0YXRlIHx8IChHYW1lU3RhdGUgPSB7fSkpO1xuY29uc3QgbWluaU1hcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWluaU1hcFwiKTtcbmNvbnN0IG1pbmlNYXBPYmplY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtaW5pTWFwT2JqZWN0c1wiKTtcbmxldCBtaW5pTWFwU2NhbGUgPSA4O1xubGV0IGxhc3RUaW1lID0gMDtcbmNvbnN0IHNjcmVlbldpZHRoID0gMzIwO1xuY29uc3Qgc2NyZWVuSGVpZ2h0ID0gMjAwO1xuY29uc3Qgc3RyaXBXaWR0aCA9IDI7XG5jb25zdCBmb3YgPSAoNjAgKiBNYXRoLlBJKSAvIDE4MDtcbmNvbnN0IGZvdkhhbGYgPSBmb3YgLyAyO1xuY29uc3QgbnVtUmF5cyA9IE1hdGguY2VpbChzY3JlZW5XaWR0aCAvIHN0cmlwV2lkdGgpO1xuY29uc3Qgdmlld0Rpc3QgPSBzY3JlZW5XaWR0aCAvIDIgLyBNYXRoLnRhbihmb3ZIYWxmKTtcbmNvbnN0IHR3b1BJID0gTWF0aC5QSSAqIDI7XG5jb25zdCBudW1UZXh0dXJlcyA9IDQ7XG5sZXQgdmlzaWJsZVNwcml0ZXMgPSBbXTtcbmxldCBzcHJpdGVNYXAgPSBbXTtcbmxldCBtYXBJdGVtcyA9IFtdO1xubGV0IGl0ZW1UeXBlcyA9IFtdO1xubGV0IGVuZW15VHlwZXMgPSBbXTtcbmNvbnN0IGRlYnVnU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWJ1Z1NjcmVlblwiKTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJtYWlubWVudVwiO1xuICAgICAgICB0aGlzLm1hcFdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5tYXBIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmRyYXdNaW5pTWFwID0gKCkgPT4ge1xuICAgICAgICAgICAgbWluaU1hcC53aWR0aCA9IHRoaXMubWFwV2lkdGggKiBtaW5pTWFwU2NhbGU7XG4gICAgICAgICAgICBtaW5pTWFwLmhlaWdodCA9IHRoaXMubWFwSGVpZ2h0ICogbWluaU1hcFNjYWxlO1xuICAgICAgICAgICAgbWluaU1hcC5zdHlsZS53aWR0aCA9IGAke3RoaXMubWFwV2lkdGggKiBtaW5pTWFwU2NhbGV9cHhgO1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gbWluaU1hcC5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMubWFwSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubWFwV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXZlbC5tYXBbeV1beF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHggKiBtaW5pTWFwU2NhbGUsIHkgKiBtaW5pTWFwU2NhbGUsIG1pbmlNYXBTY2FsZSwgbWluaU1hcFNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVNaW5pTWFwID0gKCkgPT4ge1xuICAgICAgICAgICAgbWluaU1hcE9iamVjdHMud2lkdGggPSB0aGlzLm1hcFdpZHRoICogbWluaU1hcFNjYWxlO1xuICAgICAgICAgICAgbWluaU1hcE9iamVjdHMuaGVpZ2h0ID0gdGhpcy5tYXBIZWlnaHQgKiBtaW5pTWFwU2NhbGU7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBtaW5pTWFwT2JqZWN0cy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIG1pbmlNYXAud2lkdGgsIG1pbmlNYXAuaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInllbGxvd2dyZWVuXCI7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5wbGF5ZXIucG9zLnggKiBtaW5pTWFwU2NhbGUgLSAyLCB0aGlzLnBsYXllci5wb3MueSAqIG1pbmlNYXBTY2FsZSAtIDIsIDQsIDQpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnBsYXllci5wb3MueCAqIG1pbmlNYXBTY2FsZSwgdGhpcy5wbGF5ZXIucG9zLnkgKiBtaW5pTWFwU2NhbGUpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygodGhpcy5wbGF5ZXIucG9zLnggKyBNYXRoLmNvcyh0aGlzLnBsYXllci5yb3RhdGlvbikgKiA0KSAqIG1pbmlNYXBTY2FsZSwgKHRoaXMucGxheWVyLnBvcy55ICsgTWF0aC5zaW4odGhpcy5wbGF5ZXIucm90YXRpb24pICogNCkgKiBtaW5pTWFwU2NhbGUpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoXCJwbGF5ZXJcIik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwibWFpbm1lbnVcIjtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsc1swXTtcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH1cbiAgICBpbml0U3ByaXRlcygpIHtcbiAgICAgICAgc3ByaXRlTWFwID0gW107XG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5sZXZlbC5tYXAubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIHNwcml0ZU1hcFt5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBtYXBJdGVtc1tpXTtcbiAgICAgICAgICAgIHZhciBpdGVtVHlwZSA9IGl0ZW1UeXBlc1tzcHJpdGUudHlwZV07XG4gICAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBpdGVtVHlwZS5pbWc7XG4gICAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgaW1nLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgc3ByaXRlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHNwcml0ZS5ibG9jayA9IGl0ZW1UeXBlLmJsb2NrO1xuICAgICAgICAgICAgc3ByaXRlLmltZyA9IGltZztcbiAgICAgICAgICAgIHNwcml0ZU1hcFtzcHJpdGUueV1bc3ByaXRlLnhdID0gc3ByaXRlO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JlZW4uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXN0UmF5cygpIHtcbiAgICAgICAgbGV0IHN0cmlwSWR4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1SYXlzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJheVNjcmVlblBvcyA9ICgtbnVtUmF5cyAvIDIgKyBpKSAqIHN0cmlwV2lkdGg7XG4gICAgICAgICAgICBjb25zdCByYXlWaWV3RGlzdCA9IE1hdGguc3FydChyYXlTY3JlZW5Qb3MgKiByYXlTY3JlZW5Qb3MgKyB2aWV3RGlzdCAqIHZpZXdEaXN0KTtcbiAgICAgICAgICAgIGNvbnN0IHJheUFuZ2xlID0gTWF0aC5hc2luKHJheVNjcmVlblBvcyAvIHJheVZpZXdEaXN0KTtcbiAgICAgICAgICAgIHRoaXMuY2FzdFNpbmdsZVJheSh0aGlzLnBsYXllci5yb3RhdGlvbiArIHJheUFuZ2xlLCBzdHJpcElkeCsrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXN0U2luZ2xlUmF5KHJheUFuZ2xlLCBzdHJpcElkeCkge1xuICAgICAgICAvLyBmaXJzdCBtYWtlIHN1cmUgdGhlIGFuZ2xlIGlzIGJldHdlZW4gMCBhbmQgMzYwIGRlZ3JlZXNcbiAgICAgICAgcmF5QW5nbGUgJT0gdHdvUEk7XG4gICAgICAgIGlmIChyYXlBbmdsZSA8IDApIHtcbiAgICAgICAgICAgIHJheUFuZ2xlICs9IHR3b1BJO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1vdmluZyByaWdodC9sZWZ0PyB1cC9kb3duPyBEZXRlcm1pbmVkIGJ5IHdoaWNoIHF1YWRyYW50IHRoZSBhbmdsZSBpcyBpbi5cbiAgICAgICAgdmFyIHJpZ2h0ID0gcmF5QW5nbGUgPiB0d29QSSAqIDAuNzUgfHwgcmF5QW5nbGUgPCB0d29QSSAqIDAuMjU7XG4gICAgICAgIHZhciB1cCA9IHJheUFuZ2xlIDwgMCB8fCByYXlBbmdsZSA+IE1hdGguUEk7XG4gICAgICAgIHZhciB3YWxsVHlwZSA9IDA7XG4gICAgICAgIC8vIG9ubHkgZG8gdGhlc2Ugb25jZVxuICAgICAgICB2YXIgYW5nbGVTaW4gPSBNYXRoLnNpbihyYXlBbmdsZSk7XG4gICAgICAgIHZhciBhbmdsZUNvcyA9IE1hdGguY29zKHJheUFuZ2xlKTtcbiAgICAgICAgdmFyIGRpc3QgPSAwOyAvLyB0aGUgZGlzdGFuY2UgdG8gdGhlIGJsb2NrIHdlIGhpdFxuICAgICAgICB2YXIgeEhpdCA9IDA7IC8vIHRoZSB4IGFuZCB5IGNvb3JkIG9mIHdoZXJlIHRoZSByYXkgaGl0IHRoZSBibG9ja1xuICAgICAgICB2YXIgeUhpdCA9IDA7XG4gICAgICAgIGxldCB4V2FsbEhpdCA9IDA7XG4gICAgICAgIGxldCB5V2FsbEhpdCA9IDA7XG4gICAgICAgIHZhciB0ZXh0dXJlWCA9IDA7IC8vIHRoZSB4LWNvb3JkIG9uIHRoZSB0ZXh0dXJlIG9mIHRoZSBibG9jaywgaWUuIHdoYXQgcGFydCBvZiB0aGUgdGV4dHVyZSBhcmUgd2UgZ29pbmcgdG8gcmVuZGVyXG4gICAgICAgIHZhciB3YWxsWDsgLy8gdGhlICh4LHkpIG1hcCBjb29yZHMgb2YgdGhlIGJsb2NrXG4gICAgICAgIHZhciB3YWxsWTtcbiAgICAgICAgbGV0IHdhbGxJc1NoYWRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgd2FsbElzSG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgICAgICAvLyBmaXJzdCBjaGVjayBhZ2FpbnN0IHRoZSB2ZXJ0aWNhbCBtYXAvd2FsbCBsaW5lc1xuICAgICAgICAvLyB3ZSBkbyB0aGlzIGJ5IG1vdmluZyB0byB0aGUgcmlnaHQgb3IgbGVmdCBlZGdlIG9mIHRoZSBibG9jayB3ZSdyZSBzdGFuZGluZyBpblxuICAgICAgICAvLyBhbmQgdGhlbiBtb3ZpbmcgaW4gMSBtYXAgdW5pdCBzdGVwcyBob3Jpem9udGFsbHkuIFRoZSBhbW91bnQgd2UgaGF2ZSB0byBtb3ZlIHZlcnRpY2FsbHlcbiAgICAgICAgLy8gaXMgZGV0ZXJtaW5lZCBieSB0aGUgc2xvcGUgb2YgdGhlIHJheSwgd2hpY2ggaXMgc2ltcGx5IGRlZmluZWQgYXMgc2luKGFuZ2xlKSAvIGNvcyhhbmdsZSkuXG4gICAgICAgIHZhciBzbG9wZSA9IGFuZ2xlU2luIC8gYW5nbGVDb3M7IC8vIHRoZSBzbG9wZSBvZiB0aGUgc3RyYWlnaHQgbGluZSBtYWRlIGJ5IHRoZSByYXlcbiAgICAgICAgdmFyIGRYVmVyID0gcmlnaHQgPyAxIDogLTE7IC8vIHdlIG1vdmUgZWl0aGVyIDEgbWFwIHVuaXQgdG8gdGhlIGxlZnQgb3IgcmlnaHRcbiAgICAgICAgdmFyIGRZVmVyID0gZFhWZXIgKiBzbG9wZTsgLy8gaG93IG11Y2ggdG8gbW92ZSB1cCBvciBkb3duXG4gICAgICAgIHZhciB4ID0gcmlnaHRcbiAgICAgICAgICAgID8gTWF0aC5jZWlsKHRoaXMucGxheWVyLnBvcy54KVxuICAgICAgICAgICAgOiBNYXRoLmZsb29yKHRoaXMucGxheWVyLnBvcy54KTsgLy8gc3RhcnRpbmcgaG9yaXpvbnRhbCBwb3NpdGlvbiwgYXQgb25lIG9mIHRoZSBlZGdlcyBvZiB0aGUgY3VycmVudCBtYXAgYmxvY2tcbiAgICAgICAgdmFyIHkgPSB0aGlzLnBsYXllci5wb3MueSArICh4IC0gdGhpcy5wbGF5ZXIucG9zLngpICogc2xvcGU7IC8vIHN0YXJ0aW5nIHZlcnRpY2FsIHBvc2l0aW9uLiBXZSBhZGQgdGhlIHNtYWxsIGhvcml6b250YWwgc3RlcCB3ZSBqdXN0IG1hZGUsIG11bHRpcGxpZWQgYnkgdGhlIHNsb3BlLlxuICAgICAgICB3aGlsZSAoeCA+PSAwICYmIHggPCB0aGlzLm1hcFdpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5tYXBIZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciB3YWxsWCA9IHggKyAocmlnaHQgPyAwIDogLTEpO1xuICAgICAgICAgICAgdmFyIHdhbGxZID0geSA+PiAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0gJiYgIXNwcml0ZU1hcFt3YWxsWV1bd2FsbFhdLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0udmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVTcHJpdGVzLnB1c2goc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIC8vIGlzIHRoaXMgcG9pbnQgaW5zaWRlIGEgd2FsbCBibG9jaz9cbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsLm1hcFt3YWxsWV1bd2FsbFhdID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBkaXN0WCA9IHggLSB0aGlzLnBsYXllci5wb3MueDtcbiAgICAgICAgICAgICAgICBsZXQgZGlzdFkgPSB5IC0gdGhpcy5wbGF5ZXIucG9zLnk7XG4gICAgICAgICAgICAgICAgZGlzdCA9IGRpc3RYICogZGlzdFggKyBkaXN0WSAqIGRpc3RZOyAvLyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcGxheWVyIHRvIHRoaXMgcG9pbnQsIHNxdWFyZWQuXG4gICAgICAgICAgICAgICAgd2FsbFR5cGUgPSB0aGlzLmxldmVsLm1hcFt3YWxsWV1bd2FsbFhdOyAvLyB3ZSdsbCByZW1lbWJlciB0aGUgdHlwZSBvZiB3YWxsIHdlIGhpdCBmb3IgbGF0ZXJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlWCA9IHkgJSAxOyAvLyB3aGVyZSBleGFjdGx5IGFyZSB3ZSBvbiB0aGUgd2FsbD8gdGV4dHVyZVggaXMgdGhlIHggY29vcmRpbmF0ZSBvbiB0aGUgdGV4dHVyZSB0aGF0IHdlJ2xsIHVzZSBsYXRlciB3aGVuIHRleHR1cmluZyB0aGUgd2FsbC5cbiAgICAgICAgICAgICAgICBpZiAoIXJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVYID0gMSAtIHRleHR1cmVYO1xuICAgICAgICAgICAgICAgIH0gLy8gaWYgd2UncmUgbG9va2luZyB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBtYXAsIHRoZSB0ZXh0dXJlIHNob3VsZCBiZSByZXZlcnNlZFxuICAgICAgICAgICAgICAgIHhIaXQgPSB4OyAvLyBzYXZlIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgaGl0LiBXZSBvbmx5IHJlYWxseSB1c2UgdGhlc2UgdG8gZHJhdyB0aGUgcmF5cyBvbiBtaW5pbWFwLlxuICAgICAgICAgICAgICAgIHlIaXQgPSB5O1xuICAgICAgICAgICAgICAgIHhXYWxsSGl0ID0gd2FsbFg7XG4gICAgICAgICAgICAgICAgeVdhbGxIaXQgPSB3YWxsWTtcbiAgICAgICAgICAgICAgICB3YWxsSXNIb3Jpem9udGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHggKz0gZFhWZXI7XG4gICAgICAgICAgICB5ICs9IGRZVmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyBjaGVjayBhZ2FpbnN0IGhvcml6b250YWwgbGluZXMuIEl0J3MgYmFzaWNhbGx5IHRoZSBzYW1lLCBqdXN0IFwidHVybmVkIGFyb3VuZFwiLlxuICAgICAgICAvLyB0aGUgb25seSBkaWZmZXJlbmNlIGhlcmUgaXMgdGhhdCBvbmNlIHdlIGhpdCBhIG1hcCBibG9jayxcbiAgICAgICAgLy8gd2UgY2hlY2sgaWYgdGhlcmUgd2UgYWxzbyBmb3VuZCBvbmUgaW4gdGhlIGVhcmxpZXIsIHZlcnRpY2FsIHJ1bi4gV2UnbGwga25vdyB0aGF0IGlmIGRpc3QgIT0gMC5cbiAgICAgICAgLy8gSWYgc28sIHdlIG9ubHkgcmVnaXN0ZXIgdGhpcyBoaXQgaWYgdGhpcyBkaXN0YW5jZSBpcyBzbWFsbGVyLlxuICAgICAgICB2YXIgc2xvcGUgPSBhbmdsZUNvcyAvIGFuZ2xlU2luO1xuICAgICAgICB2YXIgZFlIb3IgPSB1cCA/IC0xIDogMTtcbiAgICAgICAgdmFyIGRYSG9yID0gZFlIb3IgKiBzbG9wZTtcbiAgICAgICAgdmFyIHkgPSB1cCA/IE1hdGguZmxvb3IodGhpcy5wbGF5ZXIucG9zLnkpIDogTWF0aC5jZWlsKHRoaXMucGxheWVyLnBvcy55KTtcbiAgICAgICAgdmFyIHggPSB0aGlzLnBsYXllci5wb3MueCArICh5IC0gdGhpcy5wbGF5ZXIucG9zLnkpICogc2xvcGU7XG4gICAgICAgIHdoaWxlICh4ID49IDAgJiYgeCA8IHRoaXMubWFwV2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLm1hcEhlaWdodCkge1xuICAgICAgICAgICAgdmFyIHdhbGxZID0gTWF0aC5mbG9vcih5ICsgKHVwID8gLTEgOiAwKSk7XG4gICAgICAgICAgICB2YXIgd2FsbFggPSB4ID4+IDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzcHJpdGVNYXBbd2FsbFldW3dhbGxYXSAmJiAhc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGVNYXBbd2FsbFldW3dhbGxYXS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNwcml0ZXMucHVzaChzcHJpdGVNYXBbd2FsbFldW3dhbGxYXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwubWFwW3dhbGxZXVt3YWxsWF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RYID0geCAtIHRoaXMucGxheWVyLnBvcy54O1xuICAgICAgICAgICAgICAgIHZhciBkaXN0WSA9IHkgLSB0aGlzLnBsYXllci5wb3MueTtcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tEaXN0ID0gZGlzdFggKiBkaXN0WCArIGRpc3RZICogZGlzdFk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXN0IHx8IGJsb2NrRGlzdCA8IGRpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdCA9IGJsb2NrRGlzdDtcbiAgICAgICAgICAgICAgICAgICAgeEhpdCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHlIaXQgPSB5O1xuICAgICAgICAgICAgICAgICAgICB5V2FsbEhpdCA9IHdhbGxZO1xuICAgICAgICAgICAgICAgICAgICB4V2FsbEhpdCA9IHdhbGxYO1xuICAgICAgICAgICAgICAgICAgICB3YWxsVHlwZSA9IHRoaXMubGV2ZWwubWFwW3dhbGxZXVt3YWxsWF07XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVYID0geCAlIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVggPSAxIC0gdGV4dHVyZVg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ICs9IGRYSG9yO1xuICAgICAgICAgICAgeSArPSBkWUhvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdCkge1xuICAgICAgICAgICAgLy90aGlzLmRyYXdSYXkoeEhpdCwgeUhpdCk7XG4gICAgICAgICAgICB2YXIgc3RyaXAgPSB0aGlzLnJlbmRlcmVyLnNjcmVlblN0cmlwc1tzdHJpcElkeF07XG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KGRpc3QpO1xuICAgICAgICAgICAgLy8gdXNlIHBlcnBlbmRpY3VsYXIgZGlzdGFuY2UgdG8gYWRqdXN0IGZvciBmaXNoIGV5ZVxuICAgICAgICAgICAgLy8gZGlzdG9ydGVkX2Rpc3QgPSBjb3JyZWN0X2Rpc3QgLyBjb3MocmVsYXRpdmVfYW5nbGVfb2ZfcmF5KVxuICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiBNYXRoLmNvcyh0aGlzLnBsYXllci5yb3RhdGlvbiAtIHJheUFuZ2xlKTtcbiAgICAgICAgICAgIC8vIG5vdyBjYWxjIHRoZSBwb3NpdGlvbiwgaGVpZ2h0IGFuZCB3aWR0aCBvZiB0aGUgd2FsbCBzdHJpcFxuICAgICAgICAgICAgLy8gXCJyZWFsXCIgd2FsbCBoZWlnaHQgaW4gdGhlIGdhbWUgd29ybGQgaXMgMSB1bml0LCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcGxheWVyIHRvIHRoZSBzY3JlZW4gaXMgdmlld0Rpc3QsXG4gICAgICAgICAgICAvLyB0aHVzIHRoZSBoZWlnaHQgb24gdGhlIHNjcmVlbiBpcyBlcXVhbCB0byB3YWxsX2hlaWdodF9yZWFsICogdmlld0Rpc3QgLyBkaXN0XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQodmlld0Rpc3QgLyBkaXN0KTtcbiAgICAgICAgICAgIC8vIHdpZHRoIGlzIHRoZSBzYW1lLCBidXQgd2UgaGF2ZSB0byBzdHJldGNoIHRoZSB0ZXh0dXJlIHRvIGEgZmFjdG9yIG9mIHN0cmlwV2lkdGggdG8gbWFrZSBpdCBmaWxsIHRoZSBzdHJpcCBjb3JyZWN0bHlcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGhlaWdodCAqIHN0cmlwV2lkdGg7XG4gICAgICAgICAgICAvLyB0b3AgcGxhY2VtZW50IGlzIGVhc3kgc2luY2UgZXZlcnl0aGluZyBpcyBjZW50ZXJlZCBvbiB0aGUgeC1heGlzLCBzbyB3ZSBzaW1wbHkgbW92ZVxuICAgICAgICAgICAgLy8gaXQgaGFsZiB3YXkgZG93biB0aGUgc2NyZWVuIGFuZCB0aGVuIGhhbGYgdGhlIHdhbGwgaGVpZ2h0IGJhY2sgdXAuXG4gICAgICAgICAgICB2YXIgdG9wID0gTWF0aC5yb3VuZCgoc2NyZWVuSGVpZ2h0IC0gaGVpZ2h0KSAvIDIpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBsZXQgc3R5bGVIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBzdHJpcC5zdHlsZS5oZWlnaHQgPSBzdHlsZUhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgc3RyaXAuaW1nLnN0eWxlLmhlaWdodCA9IE1hdGguZmxvb3IoaGVpZ2h0ICogbnVtVGV4dHVyZXMpICsgXCJweFwiO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBzdHJpcC5pbWcuc3R5bGUud2lkdGggPSBNYXRoLmZsb29yKHdpZHRoICogMikgKyBcInB4XCI7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHN0cmlwLmltZy5zdHlsZS50b3AgPSAtTWF0aC5mbG9vcihoZWlnaHQgKiAod2FsbFR5cGUgLSAxKSkgKyBcInB4XCI7XG4gICAgICAgICAgICB2YXIgdGV4WCA9IE1hdGgucm91bmQodGV4dHVyZVggKiB3aWR0aCk7XG4gICAgICAgICAgICBpZiAodGV4WCA+IHdpZHRoIC0gc3RyaXBXaWR0aClcbiAgICAgICAgICAgICAgICB0ZXhYID0gd2lkdGggLSBzdHJpcFdpZHRoO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBzdHJpcC5pbWcuc3R5bGUubGVmdCA9IC10ZXhYICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmRLZXlzKCkge1xuICAgICAgICBjb25zdCBoYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoYW5kXCIpO1xuICAgICAgICAvLyBjaGFuZ2UgcGxheWVyIGRpcmVjdGlvbiBieSBtb3VzZVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gd2luZG93LmlubmVyV2lkdGggLyAyO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRpb24gPSAoeCAvIHNjcmVlbldpZHRoKSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3BlZWQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBoYW5kLnN0eWxlLmFuaW1hdGlvbiA9IFwid2FsayAxLjVzIGluZmluaXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLZXlTXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNwZWVkID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGhhbmQuc3R5bGUuYW5pbWF0aW9uID0gXCJ3YWxrIDEuNXMgaW5maW5pdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktleURcIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNoaWZ0TGVmdFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zcGVlZCAqPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2V5V1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJLZXlTXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaGFuZC5zdHlsZS5hbmltYXRpb24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2V5QVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmRpcmVjdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGhhbmQuc3R5bGUuYW5pbWF0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNoaWZ0TGVmdFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zcGVlZCAvPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDE2MDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDEyMDtcbiAgICAgICAgdGhpcy5tYXBXaWR0aCA9IHRoaXMubGV2ZWwubWFwWzBdLmxlbmd0aDtcbiAgICAgICAgdGhpcy5tYXBIZWlnaHQgPSB0aGlzLmxldmVsLm1hcC5sZW5ndGg7XG4gICAgICAgIHRoaXMuaW5pdFNwcml0ZXMoKTtcbiAgICAgICAgdGhpcy5iaW5kS2V5cygpO1xuICAgICAgICB0aGlzLmRyYXdNaW5pTWFwKCk7XG4gICAgICAgIHRoaXMubG9vcCgwKTtcbiAgICB9XG4gICAgaXNCbG9ja2luZyh4LCB5KSB7XG4gICAgICAgIGlmICh5IDwgMCB8fCB5ID49IHRoaXMubWFwSGVpZ2h0IHx8IHggPCAwIHx8IHggPj0gdGhpcy5tYXBXaWR0aClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB2YXIgaXggPSBNYXRoLmZsb29yKHgpO1xuICAgICAgICB2YXIgaXkgPSBNYXRoLmZsb29yKHkpO1xuICAgICAgICAvLyByZXR1cm4gdHJ1ZSBpZiB0aGUgbWFwIGJsb2NrIGlzIG5vdCAwLCBpZS4gaWYgdGhlcmUgaXMgYSBibG9ja2luZyB3YWxsLlxuICAgICAgICBpZiAodGhpcy5sZXZlbC5tYXBbaXldW2l4XSAhPSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzcHJpdGVNYXBbaXldW2l4XSAmJiBzcHJpdGVNYXBbaXldW2l4XS5ibG9jaylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1vdmVQbGF5ZXIoKSB7XG4gICAgICAgIGNvbnN0IG1vdmVTdGVwID0gdGhpcy5wbGF5ZXIubW92ZVNwZWVkICogdGhpcy5wbGF5ZXIuc3BlZWQ7XG4gICAgICAgIHRoaXMucGxheWVyLnJvdGF0aW9uICs9IHRoaXMucGxheWVyLmRpcmVjdGlvbiAqIHRoaXMucGxheWVyLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgIGNvbnN0IG5ld1ggPSB0aGlzLnBsYXllci5wb3MueCArIE1hdGguY29zKHRoaXMucGxheWVyLnJvdGF0aW9uKSAqIG1vdmVTdGVwO1xuICAgICAgICBjb25zdCBuZXdZID0gdGhpcy5wbGF5ZXIucG9zLnkgKyBNYXRoLnNpbih0aGlzLnBsYXllci5yb3RhdGlvbikgKiBtb3ZlU3RlcDtcbiAgICAgICAgaWYgKHRoaXMuaXNCbG9ja2luZyhuZXdYLCBuZXdZKSkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImlzIGNvbGxpZGVcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5ZXIucG9zLnggPSBuZXdYO1xuICAgICAgICB0aGlzLnBsYXllci5wb3MueSA9IG5ld1k7XG4gICAgICAgIHRoaXMucGxheWVyLnJvdGF0aW9uICs9IHRoaXMucGxheWVyLmRpcmVjdGlvbiAqIHRoaXMucGxheWVyLnJvdGF0aW9uU3BlZWQ7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5yb3RhdGlvbiA8IDApXG4gICAgICAgICAgICB0aGlzLnBsYXllci5yb3RhdGlvbiArPSBNYXRoLlBJICogMjtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLnJvdGF0aW9uID49IE1hdGguUEkgKiAyKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRpb24gLT0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICB0aGlzLm1vdmVQbGF5ZXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNaW5pTWFwKCk7XG4gICAgICAgIHRoaXMuY2FzdFJheXMoKTtcbiAgICAgICAgZGVidWdTY3JlZW4uaW5uZXJUZXh0ID0gYFxuICAgICAgRlBTOiAke01hdGgucm91bmQoMSAvIGR0KX1cbiAgICAgIFBMQVlFUiBYOiAke3RoaXMucGxheWVyLnBvcy54fVxuICAgICAgUExBWUVSIFk6ICR7dGhpcy5wbGF5ZXIucG9zLnl9XG4gICAgICBEVDogJHtkdH1cbiAgICBgO1xuICAgIH1cbiAgICBsb29wKHRzKSB7XG4gICAgICAgIGNvbnN0IGR0ID0gbGFzdFRpbWUgLSB0cztcbiAgICAgICAgbGFzdFRpbWUgPSB0cztcbiAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICAgIH1cbn1cbiIsImltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWVcIjtcbmNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuLy9AdHMtaWdub3JlXG53aW5kb3cuZ2FtZSA9IGdhbWU7XG5nYW1lLnNldHVwKCk7XG4iXSwibmFtZXMiOlsiUGVyc29uIiwiY29uc3RydWN0b3IiLCJpZCIsInRoaXMiLCJwb3MiLCJ4IiwieSIsInNwZWVkIiwibW92ZVNwZWVkIiwicm90YXRpb24iLCJkaXJlY3Rpb24iLCJyb3RhdGlvblNwZWVkIiwiUGxheWVyIiwic3VwZXIiLCJNYXRoIiwiUEkiLCJSZW5kZXJlciIsInN0cmlwV2lkdGgiLCJzY3JlZW5TdHJpcHMiLCJzY3JlZW4iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImJvZHkiLCJwcmVwZW5kIiwiaW5pdCIsImZsb29yIiwiY2VpbGluZyIsImxldmVsIiwiaGFuZCIsImFwcGVuZENoaWxkIiwiaSIsInN0cmlwIiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJvdmVyZmxvdyIsImJhY2tncm91bmRDb2xvciIsImltZyIsIkltYWdlIiwic3JjIiwicHVzaCIsImRyYXdSYXkiLCJjYXN0U2luZ2xlUmF5IiwiZHJhd01pbmlNYXAiLCJ1cGRhdGVNaW5pTWFwIiwiR2FtZVN0YXRlIiwibWluaU1hcCIsInF1ZXJ5U2VsZWN0b3IiLCJtaW5pTWFwT2JqZWN0cyIsImxhc3RUaW1lIiwiZm92SGFsZiIsIm51bVJheXMiLCJjZWlsIiwic2NyZWVuV2lkdGgiLCJ2aWV3RGlzdCIsInRhbiIsInR3b1BJIiwidmlzaWJsZVNwcml0ZXMiLCJzcHJpdGVNYXAiLCJtYXBJdGVtcyIsIml0ZW1UeXBlcyIsImRlYnVnU2NyZWVuIiwiZ2FtZSIsInN0YXRlIiwibWFwV2lkdGgiLCJtYXBIZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwibWFwIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjbGVhclJlY3QiLCJwbGF5ZXIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjb3MiLCJzaW4iLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJyZW5kZXJlciIsInNldHVwIiwiaW5pdFNwcml0ZXMiLCJsZW5ndGgiLCJzcHJpdGUiLCJpdGVtVHlwZSIsInR5cGUiLCJkaXNwbGF5IiwidmlzaWJsZSIsImJsb2NrIiwiY2FzdFJheXMiLCJzdHJpcElkeCIsInJheVNjcmVlblBvcyIsInJheVZpZXdEaXN0Iiwic3FydCIsInJheUFuZ2xlIiwiYXNpbiIsInJpZ2h0IiwidXAiLCJ3YWxsVHlwZSIsImFuZ2xlU2luIiwiYW5nbGVDb3MiLCJkaXN0IiwieFdhbGxIaXQiLCJ5V2FsbEhpdCIsInRleHR1cmVYIiwiZFhWZXIiLCJkWVZlciIsInNsb3BlIiwid2FsbFgiLCJ3YWxsWSIsImUiLCJkaXN0WCIsImRpc3RZIiwiZFlIb3IiLCJkWEhvciIsImJsb2NrRGlzdCIsInJvdW5kIiwidG9wIiwic3R5bGVIZWlnaHQiLCJ0ZXhYIiwiYmluZEtleXMiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpZW50WCIsImNvZGUiLCJhbmltYXRpb24iLCJjYW52YXMiLCJsb29wIiwiaXNCbG9ja2luZyIsIml4IiwiaXkiLCJtb3ZlUGxheWVyIiwibW92ZVN0ZXAiLCJuZXdYIiwibmV3WSIsInVwZGF0ZSIsImR0IiwiaW5uZXJUZXh0IiwidHMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIl0sInNvdXJjZVJvb3QiOiIifQ==