(()=>{"use strict";const t=[{id:0,name:"First level",map:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,0,3,0,0,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,0,0,0,0,0,0,0,0,1],[1,0,0,3,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1,1,1,1],[1,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[1,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,3,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,3,3,3,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,2,0,2,2,2,2,2,2,2,2,0,2,4,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,0,1],[1,0,0,4,3,3,4,2,2,2,2,2,2,2,2,2,2,2,2,2,4,3,3,4,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}];class e{constructor(t){this.id=t,this.pos={x:0,y:0},this.speed=0,this.moveSpeed=0,this.rotation=0,this.direction=0,this.rotationSpeed=0}}class i extends e{constructor(t){super(t),this.id=t,this.pos={x:16,y:10},this.speed=0,this.moveSpeed=.05,this.rotation=0,this.direction=0,this.rotationSpeed=6*Math.PI/1800}}class s{constructor(){this.stripWidth=2,this.screenStrips=[],this.screen=document.createElement("div"),this.width=320,this.height=200,this.screen.id="screen",document.body.prepend(this.screen),this.init()}init(){const t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.id="hud";const e=document.createElement("div");e.id="floor";const i=document.createElement("div");i.id="ceiling";const s=document.createElement("div");s.id="level";const a=document.createElement("div");a.id="hand",this.screen.appendChild(e),this.screen.appendChild(i),this.screen.appendChild(s),this.screen.appendChild(a),this.screen.appendChild(t);for(let t=0;t<this.width;t+=this.stripWidth){const e=document.createElement("div");e.style.position="absolute",e.style.left=t+"px",e.style.width=this.stripWidth+"px",e.style.height="0px",e.style.overflow="hidden",e.style.backgroundColor="magenta";const i=new Image;i.src="public/walls.png",i.style.position="absolute",i.style.left="0px",e.appendChild(i),e.img=i,this.screenStrips.push(e),s.appendChild(e)}}drawRay(){}castSingleRay(){}drawMiniMap(){}updateMiniMap(){}}var a;!function(t){t[t.Playing=0]="Playing",t[t.GameOver=1]="GameOver",t[t.Paused=2]="Paused",t[t.Inventory=3]="Inventory",t[t.Trading=4]="Trading",t[t.MainMenu=5]="MainMenu"}(a||(a={}));const h=document.querySelector("#miniMap"),r=document.querySelector("#miniMapObjects");let o=0;const n=60*Math.PI/180/2,l=Math.ceil(160),p=160/Math.tan(n),d=2*Math.PI;let c=[],y=[],m=[],u=[];const v=document.querySelector("#debugScreen");const M=new class{constructor(){this.state="mainmenu",this.mapWidth=0,this.mapHeight=0,this.drawMiniMap=()=>{h.width=8*this.mapWidth,h.height=8*this.mapHeight,h.style.width=8*this.mapWidth+"px";const t=h.getContext("2d");for(let e=0;e<this.mapHeight;e++)for(let i=0;i<this.mapWidth;i++)this.level.map[e][i]>0&&(t.fillStyle="black",t.fillRect(8*i,8*e,8,8))},this.updateMiniMap=()=>{r.width=8*this.mapWidth,r.height=8*this.mapHeight;const t=r.getContext("2d");t.clearRect(0,0,h.width,h.height),t.fillStyle="yellowgreen",t.fillRect(8*this.player.pos.x-2,8*this.player.pos.y-2,4,4),t.beginPath(),t.moveTo(8*this.player.pos.x,8*this.player.pos.y),t.lineTo(8*(this.player.pos.x+4*Math.cos(this.player.rotation)),8*(this.player.pos.y+4*Math.sin(this.player.rotation))),t.closePath(),t.stroke()},this.player=new i("player"),this.renderer=new s,this.state="mainmenu",this.level=t[0],this.setup()}initSprites(){y=[];for(var t=0;t<this.level.map.length;t++)y[t]=[];for(var e=0;e<m.length;e++){var i=m[e],s=u[i.type],a=document.createElement("img");a.src=s.img,a.style.display="none",a.style.position="absolute",i.visible=!1,i.block=s.block,i.img=a,y[i.y][i.x]=i,this.renderer.screen.appendChild(a)}}castRays(){let t=0;for(let e=0;e<l;e++){const i=2*(-l/2+e),s=Math.sqrt(i*i+p*p),a=Math.asin(i/s);this.castSingleRay(this.player.rotation+a,t++)}}castSingleRay(t,e){(t%=d)<0&&(t+=d);var i=t>.75*d||t<.25*d,s=t<0||t>Math.PI,a=0,h=Math.sin(t),r=Math.cos(t),o=0;let n=0,l=0;var m=0;for(var u=i?1:-1,v=u*(x=h/r),M=i?Math.ceil(this.player.pos.x):Math.floor(this.player.pos.x),g=this.player.pos.y+(M-this.player.pos.x)*x;M>=0&&M<this.mapWidth&&g>=0&&g<this.mapHeight;){var f=M+(i?0:-1),w=g>>0;try{y[w][f]&&!y[w][f].visible&&(y[w][f].visible=!0,c.push(y[w][f]))}catch(t){}if(this.level.map[w][f]>0){let t=M-this.player.pos.x,e=g-this.player.pos.y;o=t*t+e*e,a=this.level.map[w][f],m=g%1,i||(m=1-m),M,g,n=f,l=w,!0;break}M+=u,g+=v}var x,S=s?-1:1,b=S*(x=r/h);for(g=s?Math.floor(this.player.pos.y):Math.ceil(this.player.pos.y),M=this.player.pos.x+(g-this.player.pos.y)*x;M>=0&&M<this.mapWidth&&g>=0&&g<this.mapHeight;){w=Math.floor(g+(s?-1:0)),f=M>>0;try{y[w][f]&&!y[w][f].visible&&(y[w][f].visible=!0,c.push(y[w][f]))}catch(t){}if(this.level.map[w][f]>0){var k=M-this.player.pos.x,P=g-this.player.pos.y,W=k*k+P*P;(!o||W<o)&&(o=W,M,g,l=w,n=f,a=this.level.map[w][f],m=M%1,s&&(m=1-m));break}M+=b,g+=S}if(o){var E=this.renderer.screenStrips[e];o=Math.sqrt(o),o*=Math.cos(this.player.rotation-t);var C=Math.round(p/o),I=2*C,R=Math.round((200-C)/2);let i=C;E.style.height=i+"px",E.style.top=R+"px",E.img.style.height=Math.floor(4*C)+"px",E.img.style.width=Math.floor(2*I)+"px",E.img.style.top=-Math.floor(C*(a-1))+"px";var K=Math.round(m*I);K>I-2&&(K=I-2),E.img.style.left=-K+"px"}}bindKeys(){const t=document.querySelector("#hand");document.addEventListener("mousemove",(t=>{const e=t.clientX-window.innerWidth/2*this.player.rotationSpeed;this.player.rotation=e/320*2*Math.PI})),document.addEventListener("keydown",(e=>{switch(e.code){case"KeyW":this.player.speed=1,t.style.animation="walk 1.5s infinite";break;case"KeyS":this.player.speed=-1,t.style.animation="walk 1.5s infinite";break;case"KeyA":case"KeyD":break;case"ShiftLeft":this.player.speed*=2}})),document.addEventListener("keyup",(e=>{switch(e.code){case"KeyW":case"KeyS":this.player.speed=0,t.style.animation="";break;case"KeyA":case"KeyD":this.player.direction=0,t.style.animation="";break;case"ShiftLeft":this.player.speed/=2}}))}setup(){const t=document.querySelector("canvas");t.width=160,t.height=120,this.mapWidth=this.level.map[0].length,this.mapHeight=this.level.map.length,this.initSprites(),this.bindKeys(),this.drawMiniMap(),this.loop(0)}isBlocking(t,e){if(e<0||e>=this.mapHeight||t<0||t>=this.mapWidth)return!0;var i=Math.floor(t),s=Math.floor(e);return 0!=this.level.map[s][i]||!(!y[s][i]||!y[s][i].block)}movePlayer(){const t=this.player.moveSpeed*this.player.speed;this.player.rotation+=this.player.direction*this.player.rotationSpeed;const e=this.player.pos.x+Math.cos(this.player.rotation)*t,i=this.player.pos.y+Math.sin(this.player.rotation)*t;this.isBlocking(e,i)||(this.player.pos.x=e,this.player.pos.y=i,this.player.rotation+=this.player.direction*this.player.rotationSpeed,this.player.rotation<0&&(this.player.rotation+=2*Math.PI),this.player.rotation>=2*Math.PI&&(this.player.rotation-=2*Math.PI))}update(t){this.movePlayer(),this.updateMiniMap(),this.castRays(),v.innerText=`\n      FPS: ${Math.round(1/t)}\n      PLAYER X: ${this.player.pos.x}\n      PLAYER Y: ${this.player.pos.y}\n      DT: ${t}\n    `}loop(t){const e=o-t;o=t,this.update(e),requestAnimationFrame(this.loop.bind(this))}};window.game=M,M.setup()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUFBLE1Ba0NBLEVBbENlLENBQ2IsQ0FDRSxHQUFNLEVBQ04sS0FBUSxjQUVSLElBQU8sQ0FDTCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUMvRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDL0QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQy9ELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQzdCdEQsTUFBTUEsRUFDakJDLFlBQVlDLEdBQ1JDLEtBQUtELEdBQUtBLEVBQ1ZDLEtBQUtDLElBQU0sQ0FBRUMsRUFBRyxFQUFHQyxFQUFHLEdBQ3RCSCxLQUFLSSxNQUFRLEVBQ2JKLEtBQUtLLFVBQVksRUFDakJMLEtBQUtNLFNBQVcsRUFDaEJOLEtBQUtPLFVBQVksRUFDakJQLEtBQUtRLGNBQWdCLENBQ3pCLEVDUlcsTUFBTUMsVUFBZVosRUFDaENDLFlBQVlDLEdBQ1JXLE1BQU1YLEdBQ05DLEtBQUtELEdBQUtBLEVBQ1ZDLEtBQUtDLElBQU0sQ0FBRUMsRUFBRyxHQUFJQyxFQUFHLElBQ3ZCSCxLQUFLSSxNQUFRLEVBQ2JKLEtBQUtLLFVBQVksSUFDakJMLEtBQUtNLFNBQVcsRUFDaEJOLEtBQUtPLFVBQVksRUFDakJQLEtBQUtRLGNBQWlCLEVBQUlHLEtBQUtDLEdBQU0sSUFDekMsRUNYVyxNQUFNQyxFQUNqQmYsY0FDSUUsS0FBS2MsV0FBYSxFQUNsQmQsS0FBS2UsYUFBZSxHQUNwQmYsS0FBS2dCLE9BQVNDLFNBQVNDLGNBQWMsT0FDckNsQixLQUFLbUIsTUFBUSxJQUNibkIsS0FBS29CLE9BQVMsSUFDZHBCLEtBQUtnQixPQUFPakIsR0FBSyxTQUNqQmtCLFNBQVNJLEtBQUtDLFFBQVF0QixLQUFLZ0IsUUFDM0JoQixLQUFLdUIsTUFDVCxDQUNBQSxPQUNJLE1BQU1DLEVBQU1QLFNBQVNDLGNBQWMsVUFDbkNNLEVBQUlMLE1BQVFuQixLQUFLbUIsTUFDakJLLEVBQUlKLE9BQVNwQixLQUFLb0IsT0FDbEJJLEVBQUl6QixHQUFLLE1BQ1QsTUFBTTBCLEVBQVFSLFNBQVNDLGNBQWMsT0FDckNPLEVBQU0xQixHQUFLLFFBQ1gsTUFBTTJCLEVBQVVULFNBQVNDLGNBQWMsT0FDdkNRLEVBQVEzQixHQUFLLFVBQ2IsTUFBTTRCLEVBQVFWLFNBQVNDLGNBQWMsT0FDckNTLEVBQU01QixHQUFLLFFBQ1gsTUFBTTZCLEVBQU9YLFNBQVNDLGNBQWMsT0FDcENVLEVBQUs3QixHQUFLLE9BQ1ZDLEtBQUtnQixPQUFPYSxZQUFZSixHQUN4QnpCLEtBQUtnQixPQUFPYSxZQUFZSCxHQUN4QjFCLEtBQUtnQixPQUFPYSxZQUFZRixHQUN4QjNCLEtBQUtnQixPQUFPYSxZQUFZRCxHQUN4QjVCLEtBQUtnQixPQUFPYSxZQUFZTCxHQUN4QixJQUFLLElBQUlNLEVBQUksRUFBR0EsRUFBSTlCLEtBQUttQixNQUFPVyxHQUFLOUIsS0FBS2MsV0FBWSxDQUNsRCxNQUFNaUIsRUFBUWQsU0FBU0MsY0FBYyxPQUNyQ2EsRUFBTUMsTUFBTUMsU0FBVyxXQUN2QkYsRUFBTUMsTUFBTUUsS0FBT0osRUFBSSxLQUN2QkMsRUFBTUMsTUFBTWIsTUFBUW5CLEtBQUtjLFdBQWEsS0FDdENpQixFQUFNQyxNQUFNWixPQUFTLE1BQ3JCVyxFQUFNQyxNQUFNRyxTQUFXLFNBQ3ZCSixFQUFNQyxNQUFNSSxnQkFBa0IsVUFDOUIsTUFBTUMsRUFBTSxJQUFJQyxNQUNoQkQsRUFBSUUsSUFBTSxtQkFDVkYsRUFBSUwsTUFBTUMsU0FBVyxXQUNyQkksRUFBSUwsTUFBTUUsS0FBTyxNQUNqQkgsRUFBTUYsWUFBWVEsR0FJbEJOLEVBQU1NLElBQU1BLEVBQ1pyQyxLQUFLZSxhQUFheUIsS0FBS1QsR0FDdkJKLEVBQU1FLFlBQVlFLEVBQ3RCLENBQ0osQ0FDQVUsVUFBWSxDQUNaQyxnQkFBa0IsQ0FDbEJDLGNBQWdCLENBQ2hCQyxnQkFBa0IsRUNqRHRCLElBQUlDLEdBQ0osU0FBV0EsR0FDUEEsRUFBVUEsRUFBbUIsUUFBSSxHQUFLLFVBQ3RDQSxFQUFVQSxFQUFvQixTQUFJLEdBQUssV0FDdkNBLEVBQVVBLEVBQWtCLE9BQUksR0FBSyxTQUNyQ0EsRUFBVUEsRUFBcUIsVUFBSSxHQUFLLFlBQ3hDQSxFQUFVQSxFQUFtQixRQUFJLEdBQUssVUFDdENBLEVBQVVBLEVBQW9CLFNBQUksR0FBSyxVQUMxQyxDQVBELENBT0dBLElBQWNBLEVBQVksQ0FBQyxJQUM5QixNQUFNQyxFQUFVN0IsU0FBUzhCLGNBQWMsWUFDakNDLEVBQWlCL0IsU0FBUzhCLGNBQWMsbUJBQzlDLElBQ0lFLEVBQVcsRUFDZixNQUlNQyxFQURPLEdBQUt2QyxLQUFLQyxHQUFNLElBQ1AsRUFDaEJ1QyxFQUFVeEMsS0FBS3lDLEtBQUtDLEtBQ3BCQyxFQUFXRCxJQUFrQjFDLEtBQUs0QyxJQUFJTCxHQUN0Q00sRUFBa0IsRUFBVjdDLEtBQUtDLEdBRW5CLElBQUk2QyxFQUFpQixHQUNqQkMsRUFBWSxHQUNaQyxFQUFXLEdBQ1hDLEVBQVksR0FFaEIsTUFBTUMsRUFBYzVDLFNBQVM4QixjQUFjLGdCQzlCM0MsTUFBTWUsRUFBTyxJRCtCRSxNQUNYaEUsY0FDSUUsS0FBSytELE1BQVEsV0FDYi9ELEtBQUtnRSxTQUFXLEVBQ2hCaEUsS0FBS2lFLFVBQVksRUFDakJqRSxLQUFLMkMsWUFBYyxLQUNmRyxFQUFRM0IsTUF2QkQsRUF1QlNuQixLQUFLZ0UsU0FDckJsQixFQUFRMUIsT0F4QkQsRUF3QlVwQixLQUFLaUUsVUFDdEJuQixFQUFRZCxNQUFNYixNQXpCUCxFQXlCa0JuQixLQUFLZ0UsU0FBUixLQUN0QixNQUFNRSxFQUFNcEIsRUFBUXFCLFdBQVcsTUFDL0IsSUFBSyxJQUFJaEUsRUFBSSxFQUFHQSxFQUFJSCxLQUFLaUUsVUFBVzlELElBQ2hDLElBQUssSUFBSUQsRUFBSSxFQUFHQSxFQUFJRixLQUFLZ0UsU0FBVTlELElBQzNCRixLQUFLMkIsTUFBTXlDLElBQUlqRSxHQUFHRCxHQUFLLElBQ3ZCZ0UsRUFBSUcsVUFBWSxRQUNoQkgsRUFBSUksU0EvQlQsRUErQmtCcEUsRUEvQmxCLEVBK0JvQ0MsRUEvQnBDLEtBa0NQLEVBRUpILEtBQUs0QyxjQUFnQixLQUNqQkksRUFBZTdCLE1BckNSLEVBcUNnQm5CLEtBQUtnRSxTQUM1QmhCLEVBQWU1QixPQXRDUixFQXNDaUJwQixLQUFLaUUsVUFDN0IsTUFBTUMsRUFBTWxCLEVBQWVtQixXQUFXLE1BQ3RDRCxFQUFJSyxVQUFVLEVBQUcsRUFBR3pCLEVBQVEzQixNQUFPMkIsRUFBUTFCLFFBQzNDOEMsRUFBSUcsVUFBWSxjQUNoQkgsRUFBSUksU0ExQ0csRUEwQ010RSxLQUFLd0UsT0FBT3ZFLElBQUlDLEVBQW1CLEVBMUN6QyxFQTBDNENGLEtBQUt3RSxPQUFPdkUsSUFBSUUsRUFBbUIsRUFBRyxFQUFHLEdBQzVGK0QsRUFBSU8sWUFDSlAsRUFBSVEsT0E1Q0csRUE0Q0kxRSxLQUFLd0UsT0FBT3ZFLElBQUlDLEVBNUNwQixFQTRDc0NGLEtBQUt3RSxPQUFPdkUsSUFBSUUsR0FDN0QrRCxFQUFJUyxPQTdDRyxHQTZDSzNFLEtBQUt3RSxPQUFPdkUsSUFBSUMsRUFBcUMsRUFBakNTLEtBQUtpRSxJQUFJNUUsS0FBS3dFLE9BQU9sRSxXQTdDOUMsR0E2QzhFTixLQUFLd0UsT0FBT3ZFLElBQUlFLEVBQXFDLEVBQWpDUSxLQUFLa0UsSUFBSTdFLEtBQUt3RSxPQUFPbEUsWUFDOUg0RCxFQUFJWSxZQUNKWixFQUFJYSxRQUFRLEVBRWhCL0UsS0FBS3dFLE9BQVMsSUFBSS9ELEVBQU8sVUFDekJULEtBQUtnRixTQUFXLElBQUluRSxFQUNwQmIsS0FBSytELE1BQVEsV0FDYi9ELEtBQUsyQixNQUFRLEtBQ2IzQixLQUFLaUYsT0FDVCxDQUNBQyxjQUNJeEIsRUFBWSxHQUNaLElBQUssSUFBSXZELEVBQUksRUFBR0EsRUFBSUgsS0FBSzJCLE1BQU15QyxJQUFJZSxPQUFRaEYsSUFDdkN1RCxFQUFVdkQsR0FBSyxHQUVuQixJQUFLLElBQUkyQixFQUFJLEVBQUdBLEVBQUk2QixFQUFTd0IsT0FBUXJELElBQUssQ0FDdEMsSUFBSXNELEVBQVN6QixFQUFTN0IsR0FDbEJ1RCxFQUFXekIsRUFBVXdCLEVBQU9FLE1BQzVCakQsRUFBTXBCLFNBQVNDLGNBQWMsT0FDakNtQixFQUFJRSxJQUFNOEMsRUFBU2hELElBQ25CQSxFQUFJTCxNQUFNdUQsUUFBVSxPQUNwQmxELEVBQUlMLE1BQU1DLFNBQVcsV0FDckJtRCxFQUFPSSxTQUFVLEVBQ2pCSixFQUFPSyxNQUFRSixFQUFTSSxNQUN4QkwsRUFBTy9DLElBQU1BLEVBQ2JxQixFQUFVMEIsRUFBT2pGLEdBQUdpRixFQUFPbEYsR0FBS2tGLEVBQ2hDcEYsS0FBS2dGLFNBQVNoRSxPQUFPYSxZQUFZUSxFQUNyQyxDQUNKLENBQ0FxRCxXQUNJLElBQUlDLEVBQVcsRUFDZixJQUFLLElBQUk3RCxFQUFJLEVBQUdBLEVBQUlxQixFQUFTckIsSUFBSyxDQUM5QixNQUFNOEQsRUF6RUMsSUF5RWdCekMsRUFBVSxFQUFJckIsR0FDL0IrRCxFQUFjbEYsS0FBS21GLEtBQUtGLEVBQWVBLEVBQWV0QyxFQUFXQSxHQUNqRXlDLEVBQVdwRixLQUFLcUYsS0FBS0osRUFBZUMsR0FDMUM3RixLQUFLMEMsY0FBYzFDLEtBQUt3RSxPQUFPbEUsU0FBV3lGLEVBQVVKLElBQ3hELENBQ0osQ0FDQWpELGNBQWNxRCxFQUFVSixJQUdwQkksR0FBWXZDLEdBQ0csSUFDWHVDLEdBQVl2QyxHQUdoQixJQUFJeUMsRUFBUUYsRUFBbUIsSUFBUnZDLEdBQWdCdUMsRUFBbUIsSUFBUnZDLEVBQzlDMEMsRUFBS0gsRUFBVyxHQUFLQSxFQUFXcEYsS0FBS0MsR0FDckN1RixFQUFXLEVBRVhDLEVBQVd6RixLQUFLa0UsSUFBSWtCLEdBQ3BCTSxFQUFXMUYsS0FBS2lFLElBQUltQixHQUNwQk8sRUFBTyxFQUdYLElBQUlDLEVBQVcsRUFDWEMsRUFBVyxFQUNmLElBQUlDLEVBQVcsRUFnQmYsSUFaQSxJQU1JQyxFQUFRVCxFQUFRLEdBQUssRUFDckJVLEVBQVFELEdBRlJFLEVBQVFSLEVBQVdDLEdBR25CbkcsRUFBSStGLEVBQ0Z0RixLQUFLeUMsS0FBS3BELEtBQUt3RSxPQUFPdkUsSUFBSUMsR0FDMUJTLEtBQUtjLE1BQU16QixLQUFLd0UsT0FBT3ZFLElBQUlDLEdBQzdCQyxFQUFJSCxLQUFLd0UsT0FBT3ZFLElBQUlFLEdBQUtELEVBQUlGLEtBQUt3RSxPQUFPdkUsSUFBSUMsR0FBSzBHLEVBQy9DMUcsR0FBSyxHQUFLQSxFQUFJRixLQUFLZ0UsVUFBWTdELEdBQUssR0FBS0EsRUFBSUgsS0FBS2lFLFdBQVcsQ0FDaEUsSUFBSTRDLEVBQVEzRyxHQUFLK0YsRUFBUSxHQUFLLEdBQzFCYSxFQUFRM0csR0FBSyxFQUNqQixJQUNRdUQsRUFBVW9ELEdBQU9ELEtBQVduRCxFQUFVb0QsR0FBT0QsR0FBT3JCLFVBQ3BEOUIsRUFBVW9ELEdBQU9ELEdBQU9yQixTQUFVLEVBQ2xDL0IsRUFBZWpCLEtBQUtrQixFQUFVb0QsR0FBT0QsSUFHakMsQ0FBWixNQUFPRSxHQUFLLENBRVosR0FBSS9HLEtBQUsyQixNQUFNeUMsSUFBSTBDLEdBQU9ELEdBQVMsRUFBRyxDQUNsQyxJQUFJRyxFQUFROUcsRUFBSUYsS0FBS3dFLE9BQU92RSxJQUFJQyxFQUM1QitHLEVBQVE5RyxFQUFJSCxLQUFLd0UsT0FBT3ZFLElBQUlFLEVBQ2hDbUcsRUFBT1UsRUFBUUEsRUFBUUMsRUFBUUEsRUFDL0JkLEVBQVduRyxLQUFLMkIsTUFBTXlDLElBQUkwQyxHQUFPRCxHQUNqQ0osRUFBV3RHLEVBQUksRUFDVjhGLElBQ0RRLEVBQVcsRUFBSUEsR0FFWnZHLEVBQ0FDLEVBQ1BvRyxFQUFXTSxFQUNYTCxFQUFXTSxHQUNRLEVBQ25CLEtBQ0osQ0FDQTVHLEdBQUt3RyxFQUNMdkcsR0FBS3dHLENBQ1QsQ0FLQSxJQUFJQyxFQUNBTSxFQUFRaEIsR0FBTSxFQUFJLEVBQ2xCaUIsRUFBUUQsR0FGUk4sRUFBUVAsRUFBV0QsR0FLdkIsSUFGSWpHLEVBQUkrRixFQUFLdkYsS0FBS2MsTUFBTXpCLEtBQUt3RSxPQUFPdkUsSUFBSUUsR0FBS1EsS0FBS3lDLEtBQUtwRCxLQUFLd0UsT0FBT3ZFLElBQUlFLEdBQ25FRCxFQUFJRixLQUFLd0UsT0FBT3ZFLElBQUlDLEdBQUtDLEVBQUlILEtBQUt3RSxPQUFPdkUsSUFBSUUsR0FBS3lHLEVBQy9DMUcsR0FBSyxHQUFLQSxFQUFJRixLQUFLZ0UsVUFBWTdELEdBQUssR0FBS0EsRUFBSUgsS0FBS2lFLFdBQVcsQ0FDNUQ2QyxFQUFRbkcsS0FBS2MsTUFBTXRCLEdBQUsrRixHQUFNLEVBQUksSUFDbENXLEVBQVEzRyxHQUFLLEVBQ2pCLElBQ1F3RCxFQUFVb0QsR0FBT0QsS0FBV25ELEVBQVVvRCxHQUFPRCxHQUFPckIsVUFDcEQ5QixFQUFVb0QsR0FBT0QsR0FBT3JCLFNBQVUsRUFDbEMvQixFQUFlakIsS0FBS2tCLEVBQVVvRCxHQUFPRCxJQUdqQyxDQUFaLE1BQU9FLEdBQUssQ0FDWixHQUFJL0csS0FBSzJCLE1BQU15QyxJQUFJMEMsR0FBT0QsR0FBUyxFQUFHLENBQ2xDLElBQUlHLEVBQVE5RyxFQUFJRixLQUFLd0UsT0FBT3ZFLElBQUlDLEVBQzVCK0csRUFBUTlHLEVBQUlILEtBQUt3RSxPQUFPdkUsSUFBSUUsRUFDNUJpSCxFQUFZSixFQUFRQSxFQUFRQyxFQUFRQSxJQUNuQ1gsR0FBUWMsRUFBWWQsS0FDckJBLEVBQU9jLEVBQ0FsSCxFQUNBQyxFQUNQcUcsRUFBV00sRUFDWFAsRUFBV00sRUFDWFYsRUFBV25HLEtBQUsyQixNQUFNeUMsSUFBSTBDLEdBQU9ELEdBQ2pDSixFQUFXdkcsRUFBSSxFQUNYZ0csSUFDQU8sRUFBVyxFQUFJQSxJQUd2QixLQUNKLENBQ0F2RyxHQUFLaUgsRUFDTGhILEdBQUsrRyxDQUNULENBQ0EsR0FBSVosRUFBTSxDQUVOLElBQUl2RSxFQUFRL0IsS0FBS2dGLFNBQVNqRSxhQUFhNEUsR0FDdkNXLEVBQU8zRixLQUFLbUYsS0FBS1EsR0FHakJBLEdBQWMzRixLQUFLaUUsSUFBSTVFLEtBQUt3RSxPQUFPbEUsU0FBV3lGLEdBSzlDLElBQUkzRSxFQUFTVCxLQUFLMEcsTUFBTS9ELEVBQVdnRCxHQUUvQm5GLEVBck1HLEVBcU1LQyxFQUdSa0csRUFBTTNHLEtBQUswRyxPQXpNTixJQXlNNEJqRyxHQUFVLEdBRS9DLElBQUltRyxFQUFjbkcsRUFDbEJXLEVBQU1DLE1BQU1aLE9BQVNtRyxFQUFjLEtBQ25DeEYsRUFBTUMsTUFBTXNGLElBQU1BLEVBQU0sS0FFeEJ2RixFQUFNTSxJQUFJTCxNQUFNWixPQUFTVCxLQUFLYyxNQXhNdEIsRUF3TTRCTCxHQUF3QixLQUU1RFcsRUFBTU0sSUFBSUwsTUFBTWIsTUFBUVIsS0FBS2MsTUFBYyxFQUFSTixHQUFhLEtBRWhEWSxFQUFNTSxJQUFJTCxNQUFNc0YsS0FBTzNHLEtBQUtjLE1BQU1MLEdBQVUrRSxFQUFXLElBQU0sS0FDN0QsSUFBSXFCLEVBQU83RyxLQUFLMEcsTUFBTVosRUFBV3RGLEdBQzdCcUcsRUFBT3JHLEVBcE5KLElBcU5IcUcsRUFBT3JHLEVBck5KLEdBdU5QWSxFQUFNTSxJQUFJTCxNQUFNRSxNQUFRc0YsRUFBTyxJQUNuQyxDQUNKLENBQ0FDLFdBQ0ksTUFBTTdGLEVBQU9YLFNBQVM4QixjQUFjLFNBRXBDOUIsU0FBU3lHLGlCQUFpQixhQUFjWCxJQUNwQyxNQUFNN0csRUFBSTZHLEVBQUVZLFFBQVVDLE9BQU9DLFdBQWEsRUFBSTdILEtBQUt3RSxPQUFPaEUsY0FDMURSLEtBQUt3RSxPQUFPbEUsU0FBWUosRUFqT2hCLElBaU9tQyxFQUFJUyxLQUFLQyxFQUFFLElBRTFESyxTQUFTeUcsaUJBQWlCLFdBQVlYLElBQ2xDLE9BQVFBLEVBQUVlLE1BQ04sSUFBSyxPQUNEOUgsS0FBS3dFLE9BQU9wRSxNQUFRLEVBQ3BCd0IsRUFBS0ksTUFBTStGLFVBQVkscUJBQ3ZCLE1BQ0osSUFBSyxPQUNEL0gsS0FBS3dFLE9BQU9wRSxPQUFTLEVBQ3JCd0IsRUFBS0ksTUFBTStGLFVBQVkscUJBQ3ZCLE1BQ0osSUFBSyxPQUVMLElBQUssT0FDRCxNQUNKLElBQUssWUFDRC9ILEtBQUt3RSxPQUFPcEUsT0FBUyxFQUU3QixJQUVKYSxTQUFTeUcsaUJBQWlCLFNBQVVYLElBQ2hDLE9BQVFBLEVBQUVlLE1BQ04sSUFBSyxPQUNMLElBQUssT0FDRDlILEtBQUt3RSxPQUFPcEUsTUFBUSxFQUNwQndCLEVBQUtJLE1BQU0rRixVQUFZLEdBQ3ZCLE1BQ0osSUFBSyxPQUNMLElBQUssT0FDRC9ILEtBQUt3RSxPQUFPakUsVUFBWSxFQUN4QnFCLEVBQUtJLE1BQU0rRixVQUFZLEdBQ3ZCLE1BQ0osSUFBSyxZQUNEL0gsS0FBS3dFLE9BQU9wRSxPQUFTLEVBQzdCLEdBRVIsQ0FDQTZFLFFBQ0ksTUFBTStDLEVBQVMvRyxTQUFTOEIsY0FBYyxVQUN0Q2lGLEVBQU83RyxNQUFRLElBQ2Y2RyxFQUFPNUcsT0FBUyxJQUNoQnBCLEtBQUtnRSxTQUFXaEUsS0FBSzJCLE1BQU15QyxJQUFJLEdBQUdlLE9BQ2xDbkYsS0FBS2lFLFVBQVlqRSxLQUFLMkIsTUFBTXlDLElBQUllLE9BQ2hDbkYsS0FBS2tGLGNBQ0xsRixLQUFLeUgsV0FDTHpILEtBQUsyQyxjQUNMM0MsS0FBS2lJLEtBQUssRUFDZCxDQUNBQyxXQUFXaEksRUFBR0MsR0FDVixHQUFJQSxFQUFJLEdBQUtBLEdBQUtILEtBQUtpRSxXQUFhL0QsRUFBSSxHQUFLQSxHQUFLRixLQUFLZ0UsU0FDbkQsT0FBTyxFQUNYLElBQUltRSxFQUFLeEgsS0FBS2MsTUFBTXZCLEdBQ2hCa0ksRUFBS3pILEtBQUtjLE1BQU10QixHQUVwQixPQUE4QixHQUExQkgsS0FBSzJCLE1BQU15QyxJQUFJZ0UsR0FBSUQsT0FFbkJ6RSxFQUFVMEUsR0FBSUQsS0FBT3pFLEVBQVUwRSxHQUFJRCxHQUFJMUMsTUFHL0MsQ0FDQTRDLGFBQ0ksTUFBTUMsRUFBV3RJLEtBQUt3RSxPQUFPbkUsVUFBWUwsS0FBS3dFLE9BQU9wRSxNQUNyREosS0FBS3dFLE9BQU9sRSxVQUFZTixLQUFLd0UsT0FBT2pFLFVBQVlQLEtBQUt3RSxPQUFPaEUsY0FDNUQsTUFBTStILEVBQU92SSxLQUFLd0UsT0FBT3ZFLElBQUlDLEVBQUlTLEtBQUtpRSxJQUFJNUUsS0FBS3dFLE9BQU9sRSxVQUFZZ0ksRUFDNURFLEVBQU94SSxLQUFLd0UsT0FBT3ZFLElBQUlFLEVBQUlRLEtBQUtrRSxJQUFJN0UsS0FBS3dFLE9BQU9sRSxVQUFZZ0ksRUFDOUR0SSxLQUFLa0ksV0FBV0ssRUFBTUMsS0FJMUJ4SSxLQUFLd0UsT0FBT3ZFLElBQUlDLEVBQUlxSSxFQUNwQnZJLEtBQUt3RSxPQUFPdkUsSUFBSUUsRUFBSXFJLEVBQ3BCeEksS0FBS3dFLE9BQU9sRSxVQUFZTixLQUFLd0UsT0FBT2pFLFVBQVlQLEtBQUt3RSxPQUFPaEUsY0FDeERSLEtBQUt3RSxPQUFPbEUsU0FBVyxJQUN2Qk4sS0FBS3dFLE9BQU9sRSxVQUFzQixFQUFWSyxLQUFLQyxJQUM3QlosS0FBS3dFLE9BQU9sRSxVQUFzQixFQUFWSyxLQUFLQyxLQUM3QlosS0FBS3dFLE9BQU9sRSxVQUFzQixFQUFWSyxLQUFLQyxJQUNyQyxDQUNBNkgsT0FBT0MsR0FDSDFJLEtBQUtxSSxhQUNMckksS0FBSzRDLGdCQUNMNUMsS0FBSzBGLFdBQ0w3QixFQUFZOEUsVUFBWSxnQkFDbkJoSSxLQUFLMEcsTUFBTSxFQUFJcUIsdUJBQ1YxSSxLQUFLd0UsT0FBT3ZFLElBQUlDLHNCQUNoQkYsS0FBS3dFLE9BQU92RSxJQUFJRSxnQkFDdEJ1SSxTQUVSLENBQ0FULEtBQUtXLEdBQ0QsTUFBTUYsRUFBS3pGLEVBQVcyRixFQUN0QjNGLEVBQVcyRixFQUNYNUksS0FBS3lJLE9BQU9DLEdBQ1pHLHNCQUFzQjdJLEtBQUtpSSxLQUFLYSxLQUFLOUksTUFDekMsR0M3VUo0SCxPQUFPOUQsS0FBT0EsRUFDZEEsRUFBS21CLE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taW5lY3JhZnQyNWQvLi9zcmMvbGV2ZWxzLmpzIiwid2VicGFjazovL21pbmVjcmFmdDI1ZC8uL3NyYy9wZXJzb24udHMiLCJ3ZWJwYWNrOi8vbWluZWNyYWZ0MjVkLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly9taW5lY3JhZnQyNWQvLi9zcmMvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vbWluZWNyYWZ0MjVkLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vbWluZWNyYWZ0MjVkLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxldmVscyA9IFtcbiAge1xuICAgIFwiaWRcIjogMCxcbiAgICBcIm5hbWVcIjogXCJGaXJzdCBsZXZlbFwiLFxuICAgIC8vcHJldHRpZXItaWdub3JlXG4gICAgXCJtYXBcIjogW1xuICAgICAgWzEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwzLDMsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDMsMCwzLDAsMCwxLDEsMSwyLDEsMSwxLDEsMSwyLDEsMSwxLDIsMSwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsMywwLDQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwwLDAsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDAsMCwzLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwzLDEsMSwxLDEsMV0sXG4gICAgICBbMSwwLDAsMywwLDMsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwzLDAsNCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDJdLFxuICAgICAgWzEsMCwwLDMsMCwzLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsMywzLDMsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDMsMSwxLDEsMSwxXSxcbiAgICAgIFsxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDAsMCwwLDAsMCwwLDMsMywzLDAsMCwzLDMsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMl0sXG4gICAgICBbMSwwLDAsMCwwLDAsMCwwLDAsMywzLDMsMCwwLDMsMywzLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCwwLDAsMCwwLDAsMCwzLDMsMywwLDAsMywzLDMsMCwwLDAsMCwwLDAsMCwwLDAsMywxLDEsMSwxLDFdLFxuICAgICAgWzEsMCwwLDAsMCwwLDAsMCwwLDMsMywzLDAsMCwzLDMsMywwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsNCwwLDAsNCwyLDAsMiwyLDIsMiwyLDIsMiwyLDAsMiw0LDQsMCwwLDQsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCw0LDAsMCw0LDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNCwwLDAsNCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDQsMCwwLDQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw0LDAsMCw0LDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsNCwwLDAsNCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDQsMCwwLDQsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDAsMCw0LDMsMyw0LDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsNCwzLDMsNCwwLDAsMCwwLDAsMCwwLDFdLFxuICAgICAgWzEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMV0sXG4gICAgICBbMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxXSxcbiAgICAgIFsxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDFdXG4gICAgXVxuICB9XG5dXG5cbmV4cG9ydCBkZWZhdWx0IGxldmVscztcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcnNvbiB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uU3BlZWQgPSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCBQZXJzb24gZnJvbSBcIi4vcGVyc29uXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBQZXJzb24ge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHN1cGVyKGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnBvcyA9IHsgeDogMTYsIHk6IDEwIH07XG4gICAgICAgIHRoaXMuc3BlZWQgPSAwO1xuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IDAuMDUwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uU3BlZWQgPSAoNiAqIE1hdGguUEkpIC8gMTgwMDtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RyaXBXaWR0aCA9IDI7XG4gICAgICAgIHRoaXMuc2NyZWVuU3RyaXBzID0gW107XG4gICAgICAgIHRoaXMuc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDMyMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAyMDA7XG4gICAgICAgIHRoaXMuc2NyZWVuLmlkID0gXCJzY3JlZW5cIjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKHRoaXMuc2NyZWVuKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IGh1ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGh1ZC53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIGh1ZC5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgaHVkLmlkID0gXCJodWRcIjtcbiAgICAgICAgY29uc3QgZmxvb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBmbG9vci5pZCA9IFwiZmxvb3JcIjtcbiAgICAgICAgY29uc3QgY2VpbGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNlaWxpbmcuaWQgPSBcImNlaWxpbmdcIjtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsZXZlbC5pZCA9IFwibGV2ZWxcIjtcbiAgICAgICAgY29uc3QgaGFuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhhbmQuaWQgPSBcImhhbmRcIjtcbiAgICAgICAgdGhpcy5zY3JlZW4uYXBwZW5kQ2hpbGQoZmxvb3IpO1xuICAgICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChjZWlsaW5nKTtcbiAgICAgICAgdGhpcy5zY3JlZW4uYXBwZW5kQ2hpbGQobGV2ZWwpO1xuICAgICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChoYW5kKTtcbiAgICAgICAgdGhpcy5zY3JlZW4uYXBwZW5kQ2hpbGQoaHVkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndpZHRoOyBpICs9IHRoaXMuc3RyaXBXaWR0aCkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgc3RyaXAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBzdHJpcC5zdHlsZS5sZWZ0ID0gaSArIFwicHhcIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLndpZHRoID0gdGhpcy5zdHJpcFdpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgc3RyaXAuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibWFnZW50YVwiO1xuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcuc3JjID0gXCJwdWJsaWMvd2FsbHMucG5nXCI7XG4gICAgICAgICAgICBpbWcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBpbWcuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgICAgICBzdHJpcC5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBpbWFnZSB0byBhIHByb3BlcnR5IG9uIHRoZSBzdHJpcCBlbGVtZW50XG4gICAgICAgICAgICAvLyBzbyB3ZSBoYXZlIGVhc3kgYWNjZXNzIHRvIHRoZSBpbWFnZSBsYXRlclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc3RyaXAuaW1nID0gaW1nO1xuICAgICAgICAgICAgdGhpcy5zY3JlZW5TdHJpcHMucHVzaChzdHJpcCk7XG4gICAgICAgICAgICBsZXZlbC5hcHBlbmRDaGlsZChzdHJpcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd1JheSgpIHsgfVxuICAgIGNhc3RTaW5nbGVSYXkoKSB7IH1cbiAgICBkcmF3TWluaU1hcCgpIHsgfVxuICAgIHVwZGF0ZU1pbmlNYXAoKSB7IH1cbn1cbiIsIi8vQHRzLWlnbm9yZVxuaW1wb3J0IGxldmVscyBmcm9tIFwiLi9sZXZlbHMuanNcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4vcmVuZGVyZXJcIjtcbnZhciBHYW1lU3RhdGU7XG4oZnVuY3Rpb24gKEdhbWVTdGF0ZSkge1xuICAgIEdhbWVTdGF0ZVtHYW1lU3RhdGVbXCJQbGF5aW5nXCJdID0gMF0gPSBcIlBsYXlpbmdcIjtcbiAgICBHYW1lU3RhdGVbR2FtZVN0YXRlW1wiR2FtZU92ZXJcIl0gPSAxXSA9IFwiR2FtZU92ZXJcIjtcbiAgICBHYW1lU3RhdGVbR2FtZVN0YXRlW1wiUGF1c2VkXCJdID0gMl0gPSBcIlBhdXNlZFwiO1xuICAgIEdhbWVTdGF0ZVtHYW1lU3RhdGVbXCJJbnZlbnRvcnlcIl0gPSAzXSA9IFwiSW52ZW50b3J5XCI7XG4gICAgR2FtZVN0YXRlW0dhbWVTdGF0ZVtcIlRyYWRpbmdcIl0gPSA0XSA9IFwiVHJhZGluZ1wiO1xuICAgIEdhbWVTdGF0ZVtHYW1lU3RhdGVbXCJNYWluTWVudVwiXSA9IDVdID0gXCJNYWluTWVudVwiO1xufSkoR2FtZVN0YXRlIHx8IChHYW1lU3RhdGUgPSB7fSkpO1xuY29uc3QgbWluaU1hcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWluaU1hcFwiKTtcbmNvbnN0IG1pbmlNYXBPYmplY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtaW5pTWFwT2JqZWN0c1wiKTtcbmxldCBtaW5pTWFwU2NhbGUgPSA4O1xubGV0IGxhc3RUaW1lID0gMDtcbmNvbnN0IHNjcmVlbldpZHRoID0gMzIwO1xuY29uc3Qgc2NyZWVuSGVpZ2h0ID0gMjAwO1xuY29uc3Qgc3RyaXBXaWR0aCA9IDI7XG5jb25zdCBmb3YgPSAoNjAgKiBNYXRoLlBJKSAvIDE4MDtcbmNvbnN0IGZvdkhhbGYgPSBmb3YgLyAyO1xuY29uc3QgbnVtUmF5cyA9IE1hdGguY2VpbChzY3JlZW5XaWR0aCAvIHN0cmlwV2lkdGgpO1xuY29uc3Qgdmlld0Rpc3QgPSBzY3JlZW5XaWR0aCAvIDIgLyBNYXRoLnRhbihmb3ZIYWxmKTtcbmNvbnN0IHR3b1BJID0gTWF0aC5QSSAqIDI7XG5jb25zdCBudW1UZXh0dXJlcyA9IDQ7XG5sZXQgdmlzaWJsZVNwcml0ZXMgPSBbXTtcbmxldCBzcHJpdGVNYXAgPSBbXTtcbmxldCBtYXBJdGVtcyA9IFtdO1xubGV0IGl0ZW1UeXBlcyA9IFtdO1xubGV0IGVuZW15VHlwZXMgPSBbXTtcbmNvbnN0IGRlYnVnU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWJ1Z1NjcmVlblwiKTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJtYWlubWVudVwiO1xuICAgICAgICB0aGlzLm1hcFdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5tYXBIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmRyYXdNaW5pTWFwID0gKCkgPT4ge1xuICAgICAgICAgICAgbWluaU1hcC53aWR0aCA9IHRoaXMubWFwV2lkdGggKiBtaW5pTWFwU2NhbGU7XG4gICAgICAgICAgICBtaW5pTWFwLmhlaWdodCA9IHRoaXMubWFwSGVpZ2h0ICogbWluaU1hcFNjYWxlO1xuICAgICAgICAgICAgbWluaU1hcC5zdHlsZS53aWR0aCA9IGAke3RoaXMubWFwV2lkdGggKiBtaW5pTWFwU2NhbGV9cHhgO1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gbWluaU1hcC5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMubWFwSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubWFwV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXZlbC5tYXBbeV1beF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHggKiBtaW5pTWFwU2NhbGUsIHkgKiBtaW5pTWFwU2NhbGUsIG1pbmlNYXBTY2FsZSwgbWluaU1hcFNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVNaW5pTWFwID0gKCkgPT4ge1xuICAgICAgICAgICAgbWluaU1hcE9iamVjdHMud2lkdGggPSB0aGlzLm1hcFdpZHRoICogbWluaU1hcFNjYWxlO1xuICAgICAgICAgICAgbWluaU1hcE9iamVjdHMuaGVpZ2h0ID0gdGhpcy5tYXBIZWlnaHQgKiBtaW5pTWFwU2NhbGU7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBtaW5pTWFwT2JqZWN0cy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIG1pbmlNYXAud2lkdGgsIG1pbmlNYXAuaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInllbGxvd2dyZWVuXCI7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5wbGF5ZXIucG9zLnggKiBtaW5pTWFwU2NhbGUgLSAyLCB0aGlzLnBsYXllci5wb3MueSAqIG1pbmlNYXBTY2FsZSAtIDIsIDQsIDQpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnBsYXllci5wb3MueCAqIG1pbmlNYXBTY2FsZSwgdGhpcy5wbGF5ZXIucG9zLnkgKiBtaW5pTWFwU2NhbGUpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbygodGhpcy5wbGF5ZXIucG9zLnggKyBNYXRoLmNvcyh0aGlzLnBsYXllci5yb3RhdGlvbikgKiA0KSAqIG1pbmlNYXBTY2FsZSwgKHRoaXMucGxheWVyLnBvcy55ICsgTWF0aC5zaW4odGhpcy5wbGF5ZXIucm90YXRpb24pICogNCkgKiBtaW5pTWFwU2NhbGUpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoXCJwbGF5ZXJcIik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwibWFpbm1lbnVcIjtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsc1swXTtcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH1cbiAgICBpbml0U3ByaXRlcygpIHtcbiAgICAgICAgc3ByaXRlTWFwID0gW107XG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5sZXZlbC5tYXAubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIHNwcml0ZU1hcFt5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBtYXBJdGVtc1tpXTtcbiAgICAgICAgICAgIHZhciBpdGVtVHlwZSA9IGl0ZW1UeXBlc1tzcHJpdGUudHlwZV07XG4gICAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBpdGVtVHlwZS5pbWc7XG4gICAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgaW1nLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgc3ByaXRlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHNwcml0ZS5ibG9jayA9IGl0ZW1UeXBlLmJsb2NrO1xuICAgICAgICAgICAgc3ByaXRlLmltZyA9IGltZztcbiAgICAgICAgICAgIHNwcml0ZU1hcFtzcHJpdGUueV1bc3ByaXRlLnhdID0gc3ByaXRlO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JlZW4uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXN0UmF5cygpIHtcbiAgICAgICAgbGV0IHN0cmlwSWR4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1SYXlzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJheVNjcmVlblBvcyA9ICgtbnVtUmF5cyAvIDIgKyBpKSAqIHN0cmlwV2lkdGg7XG4gICAgICAgICAgICBjb25zdCByYXlWaWV3RGlzdCA9IE1hdGguc3FydChyYXlTY3JlZW5Qb3MgKiByYXlTY3JlZW5Qb3MgKyB2aWV3RGlzdCAqIHZpZXdEaXN0KTtcbiAgICAgICAgICAgIGNvbnN0IHJheUFuZ2xlID0gTWF0aC5hc2luKHJheVNjcmVlblBvcyAvIHJheVZpZXdEaXN0KTtcbiAgICAgICAgICAgIHRoaXMuY2FzdFNpbmdsZVJheSh0aGlzLnBsYXllci5yb3RhdGlvbiArIHJheUFuZ2xlLCBzdHJpcElkeCsrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXN0U2luZ2xlUmF5KHJheUFuZ2xlLCBzdHJpcElkeCkge1xuICAgICAgICAvLyBodHRwczovL2Rldi5vcGVyYS5jb20vYXJ0aWNsZXMvM2QtZ2FtZXMtd2l0aC1jYW52YXMtYW5kLXJheWNhc3RpbmctcGFydC0yL1xuICAgICAgICAvLyBmaXJzdCBtYWtlIHN1cmUgdGhlIGFuZ2xlIGlzIGJldHdlZW4gMCBhbmQgMzYwIGRlZ3JlZXNcbiAgICAgICAgcmF5QW5nbGUgJT0gdHdvUEk7XG4gICAgICAgIGlmIChyYXlBbmdsZSA8IDApIHtcbiAgICAgICAgICAgIHJheUFuZ2xlICs9IHR3b1BJO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1vdmluZyByaWdodC9sZWZ0PyB1cC9kb3duPyBEZXRlcm1pbmVkIGJ5IHdoaWNoIHF1YWRyYW50IHRoZSBhbmdsZSBpcyBpbi5cbiAgICAgICAgdmFyIHJpZ2h0ID0gcmF5QW5nbGUgPiB0d29QSSAqIDAuNzUgfHwgcmF5QW5nbGUgPCB0d29QSSAqIDAuMjU7XG4gICAgICAgIHZhciB1cCA9IHJheUFuZ2xlIDwgMCB8fCByYXlBbmdsZSA+IE1hdGguUEk7XG4gICAgICAgIHZhciB3YWxsVHlwZSA9IDA7XG4gICAgICAgIC8vIG9ubHkgZG8gdGhlc2Ugb25jZVxuICAgICAgICB2YXIgYW5nbGVTaW4gPSBNYXRoLnNpbihyYXlBbmdsZSk7XG4gICAgICAgIHZhciBhbmdsZUNvcyA9IE1hdGguY29zKHJheUFuZ2xlKTtcbiAgICAgICAgdmFyIGRpc3QgPSAwOyAvLyB0aGUgZGlzdGFuY2UgdG8gdGhlIGJsb2NrIHdlIGhpdFxuICAgICAgICB2YXIgeEhpdCA9IDA7IC8vIHRoZSB4IGFuZCB5IGNvb3JkIG9mIHdoZXJlIHRoZSByYXkgaGl0IHRoZSBibG9ja1xuICAgICAgICB2YXIgeUhpdCA9IDA7XG4gICAgICAgIGxldCB4V2FsbEhpdCA9IDA7XG4gICAgICAgIGxldCB5V2FsbEhpdCA9IDA7XG4gICAgICAgIHZhciB0ZXh0dXJlWCA9IDA7IC8vIHRoZSB4LWNvb3JkIG9uIHRoZSB0ZXh0dXJlIG9mIHRoZSBibG9jaywgaWUuIHdoYXQgcGFydCBvZiB0aGUgdGV4dHVyZSBhcmUgd2UgZ29pbmcgdG8gcmVuZGVyXG4gICAgICAgIHZhciB3YWxsWDsgLy8gdGhlICh4LHkpIG1hcCBjb29yZHMgb2YgdGhlIGJsb2NrXG4gICAgICAgIHZhciB3YWxsWTtcbiAgICAgICAgbGV0IHdhbGxJc1NoYWRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgd2FsbElzSG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgICAgICAvLyBmaXJzdCBjaGVjayBhZ2FpbnN0IHRoZSB2ZXJ0aWNhbCBtYXAvd2FsbCBsaW5lc1xuICAgICAgICAvLyB3ZSBkbyB0aGlzIGJ5IG1vdmluZyB0byB0aGUgcmlnaHQgb3IgbGVmdCBlZGdlIG9mIHRoZSBibG9jayB3ZSdyZSBzdGFuZGluZyBpblxuICAgICAgICAvLyBhbmQgdGhlbiBtb3ZpbmcgaW4gMSBtYXAgdW5pdCBzdGVwcyBob3Jpem9udGFsbHkuIFRoZSBhbW91bnQgd2UgaGF2ZSB0byBtb3ZlIHZlcnRpY2FsbHlcbiAgICAgICAgLy8gaXMgZGV0ZXJtaW5lZCBieSB0aGUgc2xvcGUgb2YgdGhlIHJheSwgd2hpY2ggaXMgc2ltcGx5IGRlZmluZWQgYXMgc2luKGFuZ2xlKSAvIGNvcyhhbmdsZSkuXG4gICAgICAgIHZhciBzbG9wZSA9IGFuZ2xlU2luIC8gYW5nbGVDb3M7IC8vIHRoZSBzbG9wZSBvZiB0aGUgc3RyYWlnaHQgbGluZSBtYWRlIGJ5IHRoZSByYXlcbiAgICAgICAgdmFyIGRYVmVyID0gcmlnaHQgPyAxIDogLTE7IC8vIHdlIG1vdmUgZWl0aGVyIDEgbWFwIHVuaXQgdG8gdGhlIGxlZnQgb3IgcmlnaHRcbiAgICAgICAgdmFyIGRZVmVyID0gZFhWZXIgKiBzbG9wZTsgLy8gaG93IG11Y2ggdG8gbW92ZSB1cCBvciBkb3duXG4gICAgICAgIHZhciB4ID0gcmlnaHRcbiAgICAgICAgICAgID8gTWF0aC5jZWlsKHRoaXMucGxheWVyLnBvcy54KVxuICAgICAgICAgICAgOiBNYXRoLmZsb29yKHRoaXMucGxheWVyLnBvcy54KTsgLy8gc3RhcnRpbmcgaG9yaXpvbnRhbCBwb3NpdGlvbiwgYXQgb25lIG9mIHRoZSBlZGdlcyBvZiB0aGUgY3VycmVudCBtYXAgYmxvY2tcbiAgICAgICAgdmFyIHkgPSB0aGlzLnBsYXllci5wb3MueSArICh4IC0gdGhpcy5wbGF5ZXIucG9zLngpICogc2xvcGU7IC8vIHN0YXJ0aW5nIHZlcnRpY2FsIHBvc2l0aW9uLiBXZSBhZGQgdGhlIHNtYWxsIGhvcml6b250YWwgc3RlcCB3ZSBqdXN0IG1hZGUsIG11bHRpcGxpZWQgYnkgdGhlIHNsb3BlLlxuICAgICAgICB3aGlsZSAoeCA+PSAwICYmIHggPCB0aGlzLm1hcFdpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5tYXBIZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciB3YWxsWCA9IHggKyAocmlnaHQgPyAwIDogLTEpO1xuICAgICAgICAgICAgdmFyIHdhbGxZID0geSA+PiAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0gJiYgIXNwcml0ZU1hcFt3YWxsWV1bd2FsbFhdLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0udmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVTcHJpdGVzLnB1c2goc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIC8vIGlzIHRoaXMgcG9pbnQgaW5zaWRlIGEgd2FsbCBibG9jaz9cbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsLm1hcFt3YWxsWV1bd2FsbFhdID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBkaXN0WCA9IHggLSB0aGlzLnBsYXllci5wb3MueDtcbiAgICAgICAgICAgICAgICBsZXQgZGlzdFkgPSB5IC0gdGhpcy5wbGF5ZXIucG9zLnk7XG4gICAgICAgICAgICAgICAgZGlzdCA9IGRpc3RYICogZGlzdFggKyBkaXN0WSAqIGRpc3RZOyAvLyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcGxheWVyIHRvIHRoaXMgcG9pbnQsIHNxdWFyZWQuXG4gICAgICAgICAgICAgICAgd2FsbFR5cGUgPSB0aGlzLmxldmVsLm1hcFt3YWxsWV1bd2FsbFhdOyAvLyB3ZSdsbCByZW1lbWJlciB0aGUgdHlwZSBvZiB3YWxsIHdlIGhpdCBmb3IgbGF0ZXJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlWCA9IHkgJSAxOyAvLyB3aGVyZSBleGFjdGx5IGFyZSB3ZSBvbiB0aGUgd2FsbD8gdGV4dHVyZVggaXMgdGhlIHggY29vcmRpbmF0ZSBvbiB0aGUgdGV4dHVyZSB0aGF0IHdlJ2xsIHVzZSBsYXRlciB3aGVuIHRleHR1cmluZyB0aGUgd2FsbC5cbiAgICAgICAgICAgICAgICBpZiAoIXJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVYID0gMSAtIHRleHR1cmVYO1xuICAgICAgICAgICAgICAgIH0gLy8gaWYgd2UncmUgbG9va2luZyB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBtYXAsIHRoZSB0ZXh0dXJlIHNob3VsZCBiZSByZXZlcnNlZFxuICAgICAgICAgICAgICAgIHhIaXQgPSB4OyAvLyBzYXZlIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgaGl0LiBXZSBvbmx5IHJlYWxseSB1c2UgdGhlc2UgdG8gZHJhdyB0aGUgcmF5cyBvbiBtaW5pbWFwLlxuICAgICAgICAgICAgICAgIHlIaXQgPSB5O1xuICAgICAgICAgICAgICAgIHhXYWxsSGl0ID0gd2FsbFg7XG4gICAgICAgICAgICAgICAgeVdhbGxIaXQgPSB3YWxsWTtcbiAgICAgICAgICAgICAgICB3YWxsSXNIb3Jpem9udGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHggKz0gZFhWZXI7XG4gICAgICAgICAgICB5ICs9IGRZVmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyBjaGVjayBhZ2FpbnN0IGhvcml6b250YWwgbGluZXMuIEl0J3MgYmFzaWNhbGx5IHRoZSBzYW1lLCBqdXN0IFwidHVybmVkIGFyb3VuZFwiLlxuICAgICAgICAvLyB0aGUgb25seSBkaWZmZXJlbmNlIGhlcmUgaXMgdGhhdCBvbmNlIHdlIGhpdCBhIG1hcCBibG9jayxcbiAgICAgICAgLy8gd2UgY2hlY2sgaWYgdGhlcmUgd2UgYWxzbyBmb3VuZCBvbmUgaW4gdGhlIGVhcmxpZXIsIHZlcnRpY2FsIHJ1bi4gV2UnbGwga25vdyB0aGF0IGlmIGRpc3QgIT0gMC5cbiAgICAgICAgLy8gSWYgc28sIHdlIG9ubHkgcmVnaXN0ZXIgdGhpcyBoaXQgaWYgdGhpcyBkaXN0YW5jZSBpcyBzbWFsbGVyLlxuICAgICAgICB2YXIgc2xvcGUgPSBhbmdsZUNvcyAvIGFuZ2xlU2luO1xuICAgICAgICB2YXIgZFlIb3IgPSB1cCA/IC0xIDogMTtcbiAgICAgICAgdmFyIGRYSG9yID0gZFlIb3IgKiBzbG9wZTtcbiAgICAgICAgdmFyIHkgPSB1cCA/IE1hdGguZmxvb3IodGhpcy5wbGF5ZXIucG9zLnkpIDogTWF0aC5jZWlsKHRoaXMucGxheWVyLnBvcy55KTtcbiAgICAgICAgdmFyIHggPSB0aGlzLnBsYXllci5wb3MueCArICh5IC0gdGhpcy5wbGF5ZXIucG9zLnkpICogc2xvcGU7XG4gICAgICAgIHdoaWxlICh4ID49IDAgJiYgeCA8IHRoaXMubWFwV2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLm1hcEhlaWdodCkge1xuICAgICAgICAgICAgdmFyIHdhbGxZID0gTWF0aC5mbG9vcih5ICsgKHVwID8gLTEgOiAwKSk7XG4gICAgICAgICAgICB2YXIgd2FsbFggPSB4ID4+IDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzcHJpdGVNYXBbd2FsbFldW3dhbGxYXSAmJiAhc3ByaXRlTWFwW3dhbGxZXVt3YWxsWF0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGVNYXBbd2FsbFldW3dhbGxYXS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNwcml0ZXMucHVzaChzcHJpdGVNYXBbd2FsbFldW3dhbGxYXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwubWFwW3dhbGxZXVt3YWxsWF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RYID0geCAtIHRoaXMucGxheWVyLnBvcy54O1xuICAgICAgICAgICAgICAgIHZhciBkaXN0WSA9IHkgLSB0aGlzLnBsYXllci5wb3MueTtcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tEaXN0ID0gZGlzdFggKiBkaXN0WCArIGRpc3RZICogZGlzdFk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXN0IHx8IGJsb2NrRGlzdCA8IGRpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdCA9IGJsb2NrRGlzdDtcbiAgICAgICAgICAgICAgICAgICAgeEhpdCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIHlIaXQgPSB5O1xuICAgICAgICAgICAgICAgICAgICB5V2FsbEhpdCA9IHdhbGxZO1xuICAgICAgICAgICAgICAgICAgICB4V2FsbEhpdCA9IHdhbGxYO1xuICAgICAgICAgICAgICAgICAgICB3YWxsVHlwZSA9IHRoaXMubGV2ZWwubWFwW3dhbGxZXVt3YWxsWF07XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVYID0geCAlIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVggPSAxIC0gdGV4dHVyZVg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ICs9IGRYSG9yO1xuICAgICAgICAgICAgeSArPSBkWUhvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdCkge1xuICAgICAgICAgICAgLy90aGlzLmRyYXdSYXkoeEhpdCwgeUhpdCk7XG4gICAgICAgICAgICB2YXIgc3RyaXAgPSB0aGlzLnJlbmRlcmVyLnNjcmVlblN0cmlwc1tzdHJpcElkeF07XG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KGRpc3QpO1xuICAgICAgICAgICAgLy8gdXNlIHBlcnBlbmRpY3VsYXIgZGlzdGFuY2UgdG8gYWRqdXN0IGZvciBmaXNoIGV5ZVxuICAgICAgICAgICAgLy8gZGlzdG9ydGVkX2Rpc3QgPSBjb3JyZWN0X2Rpc3QgLyBjb3MocmVsYXRpdmVfYW5nbGVfb2ZfcmF5KVxuICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiBNYXRoLmNvcyh0aGlzLnBsYXllci5yb3RhdGlvbiAtIHJheUFuZ2xlKTtcbiAgICAgICAgICAgIC8vIG5vdyBjYWxjIHRoZSBwb3NpdGlvbiwgaGVpZ2h0IGFuZCB3aWR0aCBvZiB0aGUgd2FsbCBzdHJpcFxuICAgICAgICAgICAgLy8gXCJyZWFsXCIgd2FsbCBoZWlnaHQgaW4gdGhlIGdhbWUgd29ybGQgaXMgMSB1bml0LCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgcGxheWVyIHRvIHRoZSBzY3JlZW4gaXMgdmlld0Rpc3QsXG4gICAgICAgICAgICAvLyB0aHVzIHRoZSBoZWlnaHQgb24gdGhlIHNjcmVlbiBpcyBlcXVhbCB0byB3YWxsX2hlaWdodF9yZWFsICogdmlld0Rpc3QgLyBkaXN0XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQodmlld0Rpc3QgLyBkaXN0KTtcbiAgICAgICAgICAgIC8vIHdpZHRoIGlzIHRoZSBzYW1lLCBidXQgd2UgaGF2ZSB0byBzdHJldGNoIHRoZSB0ZXh0dXJlIHRvIGEgZmFjdG9yIG9mIHN0cmlwV2lkdGggdG8gbWFrZSBpdCBmaWxsIHRoZSBzdHJpcCBjb3JyZWN0bHlcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGhlaWdodCAqIHN0cmlwV2lkdGg7XG4gICAgICAgICAgICAvLyB0b3AgcGxhY2VtZW50IGlzIGVhc3kgc2luY2UgZXZlcnl0aGluZyBpcyBjZW50ZXJlZCBvbiB0aGUgeC1heGlzLCBzbyB3ZSBzaW1wbHkgbW92ZVxuICAgICAgICAgICAgLy8gaXQgaGFsZiB3YXkgZG93biB0aGUgc2NyZWVuIGFuZCB0aGVuIGhhbGYgdGhlIHdhbGwgaGVpZ2h0IGJhY2sgdXAuXG4gICAgICAgICAgICB2YXIgdG9wID0gTWF0aC5yb3VuZCgoc2NyZWVuSGVpZ2h0IC0gaGVpZ2h0KSAvIDIpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBsZXQgc3R5bGVIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBzdHJpcC5zdHlsZS5oZWlnaHQgPSBzdHlsZUhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHN0cmlwLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgc3RyaXAuaW1nLnN0eWxlLmhlaWdodCA9IE1hdGguZmxvb3IoaGVpZ2h0ICogbnVtVGV4dHVyZXMpICsgXCJweFwiO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBzdHJpcC5pbWcuc3R5bGUud2lkdGggPSBNYXRoLmZsb29yKHdpZHRoICogMikgKyBcInB4XCI7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHN0cmlwLmltZy5zdHlsZS50b3AgPSAtTWF0aC5mbG9vcihoZWlnaHQgKiAod2FsbFR5cGUgLSAxKSkgKyBcInB4XCI7XG4gICAgICAgICAgICB2YXIgdGV4WCA9IE1hdGgucm91bmQodGV4dHVyZVggKiB3aWR0aCk7XG4gICAgICAgICAgICBpZiAodGV4WCA+IHdpZHRoIC0gc3RyaXBXaWR0aClcbiAgICAgICAgICAgICAgICB0ZXhYID0gd2lkdGggLSBzdHJpcFdpZHRoO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBzdHJpcC5pbWcuc3R5bGUubGVmdCA9IC10ZXhYICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGJpbmRLZXlzKCkge1xuICAgICAgICBjb25zdCBoYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoYW5kXCIpO1xuICAgICAgICAvLyBjaGFuZ2UgcGxheWVyIGRpcmVjdGlvbiBieSBtb3VzZVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gd2luZG93LmlubmVyV2lkdGggLyAyICogdGhpcy5wbGF5ZXIucm90YXRpb25TcGVlZDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0aW9uID0gKHggLyBzY3JlZW5XaWR0aCkgKiAyICogTWF0aC5QSTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUuY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnNwZWVkID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZC5zdHlsZS5hbmltYXRpb24gPSBcIndhbGsgMS41cyBpbmZpbml0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zcGVlZCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBoYW5kLnN0eWxlLmFuaW1hdGlvbiA9IFwid2FsayAxLjVzIGluZmluaXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLZXlBXCI6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJTaGlmdExlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3BlZWQgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGhhbmQuc3R5bGUuYW5pbWF0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2V5RFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5kaXJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgICAgICAgICBoYW5kLnN0eWxlLmFuaW1hdGlvbiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJTaGlmdExlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3BlZWQgLz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldHVwKCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMud2lkdGggPSAxNjA7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAxMjA7XG4gICAgICAgIHRoaXMubWFwV2lkdGggPSB0aGlzLmxldmVsLm1hcFswXS5sZW5ndGg7XG4gICAgICAgIHRoaXMubWFwSGVpZ2h0ID0gdGhpcy5sZXZlbC5tYXAubGVuZ3RoO1xuICAgICAgICB0aGlzLmluaXRTcHJpdGVzKCk7XG4gICAgICAgIHRoaXMuYmluZEtleXMoKTtcbiAgICAgICAgdGhpcy5kcmF3TWluaU1hcCgpO1xuICAgICAgICB0aGlzLmxvb3AoMCk7XG4gICAgfVxuICAgIGlzQmxvY2tpbmcoeCwgeSkge1xuICAgICAgICBpZiAoeSA8IDAgfHwgeSA+PSB0aGlzLm1hcEhlaWdodCB8fCB4IDwgMCB8fCB4ID49IHRoaXMubWFwV2lkdGgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmFyIGl4ID0gTWF0aC5mbG9vcih4KTtcbiAgICAgICAgdmFyIGl5ID0gTWF0aC5mbG9vcih5KTtcbiAgICAgICAgLy8gcmV0dXJuIHRydWUgaWYgdGhlIG1hcCBibG9jayBpcyBub3QgMCwgaWUuIGlmIHRoZXJlIGlzIGEgYmxvY2tpbmcgd2FsbC5cbiAgICAgICAgaWYgKHRoaXMubGV2ZWwubWFwW2l5XVtpeF0gIT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc3ByaXRlTWFwW2l5XVtpeF0gJiYgc3ByaXRlTWFwW2l5XVtpeF0uYmxvY2spXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtb3ZlUGxheWVyKCkge1xuICAgICAgICBjb25zdCBtb3ZlU3RlcCA9IHRoaXMucGxheWVyLm1vdmVTcGVlZCAqIHRoaXMucGxheWVyLnNwZWVkO1xuICAgICAgICB0aGlzLnBsYXllci5yb3RhdGlvbiArPSB0aGlzLnBsYXllci5kaXJlY3Rpb24gKiB0aGlzLnBsYXllci5yb3RhdGlvblNwZWVkO1xuICAgICAgICBjb25zdCBuZXdYID0gdGhpcy5wbGF5ZXIucG9zLnggKyBNYXRoLmNvcyh0aGlzLnBsYXllci5yb3RhdGlvbikgKiBtb3ZlU3RlcDtcbiAgICAgICAgY29uc3QgbmV3WSA9IHRoaXMucGxheWVyLnBvcy55ICsgTWF0aC5zaW4odGhpcy5wbGF5ZXIucm90YXRpb24pICogbW92ZVN0ZXA7XG4gICAgICAgIGlmICh0aGlzLmlzQmxvY2tpbmcobmV3WCwgbmV3WSkpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJpcyBjb2xsaWRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheWVyLnBvcy54ID0gbmV3WDtcbiAgICAgICAgdGhpcy5wbGF5ZXIucG9zLnkgPSBuZXdZO1xuICAgICAgICB0aGlzLnBsYXllci5yb3RhdGlvbiArPSB0aGlzLnBsYXllci5kaXJlY3Rpb24gKiB0aGlzLnBsYXllci5yb3RhdGlvblNwZWVkO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIucm90YXRpb24gPCAwKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRpb24gKz0gTWF0aC5QSSAqIDI7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5yb3RhdGlvbiA+PSBNYXRoLlBJICogMilcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0aW9uIC09IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy5tb3ZlUGxheWVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWluaU1hcCgpO1xuICAgICAgICB0aGlzLmNhc3RSYXlzKCk7XG4gICAgICAgIGRlYnVnU2NyZWVuLmlubmVyVGV4dCA9IGBcbiAgICAgIEZQUzogJHtNYXRoLnJvdW5kKDEgLyBkdCl9XG4gICAgICBQTEFZRVIgWDogJHt0aGlzLnBsYXllci5wb3MueH1cbiAgICAgIFBMQVlFUiBZOiAke3RoaXMucGxheWVyLnBvcy55fVxuICAgICAgRFQ6ICR7ZHR9XG4gICAgYDtcbiAgICB9XG4gICAgbG9vcCh0cykge1xuICAgICAgICBjb25zdCBkdCA9IGxhc3RUaW1lIC0gdHM7XG4gICAgICAgIGxhc3RUaW1lID0gdHM7XG4gICAgICAgIHRoaXMudXBkYXRlKGR0KTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubG9vcC5iaW5kKHRoaXMpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9nYW1lXCI7XG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcbi8vQHRzLWlnbm9yZVxud2luZG93LmdhbWUgPSBnYW1lO1xuZ2FtZS5zZXR1cCgpO1xuIl0sIm5hbWVzIjpbIlBlcnNvbiIsImNvbnN0cnVjdG9yIiwiaWQiLCJ0aGlzIiwicG9zIiwieCIsInkiLCJzcGVlZCIsIm1vdmVTcGVlZCIsInJvdGF0aW9uIiwiZGlyZWN0aW9uIiwicm90YXRpb25TcGVlZCIsIlBsYXllciIsInN1cGVyIiwiTWF0aCIsIlBJIiwiUmVuZGVyZXIiLCJzdHJpcFdpZHRoIiwic2NyZWVuU3RyaXBzIiwic2NyZWVuIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJib2R5IiwicHJlcGVuZCIsImluaXQiLCJodWQiLCJmbG9vciIsImNlaWxpbmciLCJsZXZlbCIsImhhbmQiLCJhcHBlbmRDaGlsZCIsImkiLCJzdHJpcCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0Iiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kQ29sb3IiLCJpbWciLCJJbWFnZSIsInNyYyIsInB1c2giLCJkcmF3UmF5IiwiY2FzdFNpbmdsZVJheSIsImRyYXdNaW5pTWFwIiwidXBkYXRlTWluaU1hcCIsIkdhbWVTdGF0ZSIsIm1pbmlNYXAiLCJxdWVyeVNlbGVjdG9yIiwibWluaU1hcE9iamVjdHMiLCJsYXN0VGltZSIsImZvdkhhbGYiLCJudW1SYXlzIiwiY2VpbCIsInNjcmVlbldpZHRoIiwidmlld0Rpc3QiLCJ0YW4iLCJ0d29QSSIsInZpc2libGVTcHJpdGVzIiwic3ByaXRlTWFwIiwibWFwSXRlbXMiLCJpdGVtVHlwZXMiLCJkZWJ1Z1NjcmVlbiIsImdhbWUiLCJzdGF0ZSIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwiY3R4IiwiZ2V0Q29udGV4dCIsIm1hcCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2xlYXJSZWN0IiwicGxheWVyIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY29zIiwic2luIiwiY2xvc2VQYXRoIiwic3Ryb2tlIiwicmVuZGVyZXIiLCJzZXR1cCIsImluaXRTcHJpdGVzIiwibGVuZ3RoIiwic3ByaXRlIiwiaXRlbVR5cGUiLCJ0eXBlIiwiZGlzcGxheSIsInZpc2libGUiLCJibG9jayIsImNhc3RSYXlzIiwic3RyaXBJZHgiLCJyYXlTY3JlZW5Qb3MiLCJyYXlWaWV3RGlzdCIsInNxcnQiLCJyYXlBbmdsZSIsImFzaW4iLCJyaWdodCIsInVwIiwid2FsbFR5cGUiLCJhbmdsZVNpbiIsImFuZ2xlQ29zIiwiZGlzdCIsInhXYWxsSGl0IiwieVdhbGxIaXQiLCJ0ZXh0dXJlWCIsImRYVmVyIiwiZFlWZXIiLCJzbG9wZSIsIndhbGxYIiwid2FsbFkiLCJlIiwiZGlzdFgiLCJkaXN0WSIsImRZSG9yIiwiZFhIb3IiLCJibG9ja0Rpc3QiLCJyb3VuZCIsInRvcCIsInN0eWxlSGVpZ2h0IiwidGV4WCIsImJpbmRLZXlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsaWVudFgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiY29kZSIsImFuaW1hdGlvbiIsImNhbnZhcyIsImxvb3AiLCJpc0Jsb2NraW5nIiwiaXgiLCJpeSIsIm1vdmVQbGF5ZXIiLCJtb3ZlU3RlcCIsIm5ld1giLCJuZXdZIiwidXBkYXRlIiwiZHQiLCJpbm5lclRleHQiLCJ0cyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiXSwic291cmNlUm9vdCI6IiJ9